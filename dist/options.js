/*! For license information please see options.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,t,n)=>{var r=n(540),a=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:l.current}}t.jsx=o,t.jsxs=o},287:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var k=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,i={},l=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(l=""+t.key),t)x.call(t,a)&&!_.hasOwnProperty(a)&&(i[a]=t[a]);var o=arguments.length-2;if(1===o)i.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===i[a]&&(i[a]=o[a]);return{$$typeof:n,type:e,key:l,ref:s,props:i,_owner:S.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,a,i,l){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o=!1;if(null===e)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return l=l(o=e),e=""===i?"."+P(o,0):i,k(l)?(a="",null!=e&&(a=e.replace(j,"$&/")+"/"),N(l,t,a,"",function(e){return e})):null!=l&&(E(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(j,"$&/")+"/")+e)),t.push(l)),1;if(o=0,i=""===i?".":i+":",k(e))for(var u=0;u<e.length;u++){var c=i+P(s=e[u],u);o+=N(s,t,a,c,l)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)o+=N(s=s.value,t,a,c=i+P(s,u++),l);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function T(e,t,n){if(null==e)return e;var r=[],a=0;return N(e,r,"","",function(e){return t.call(n,e,a++)}),r}function z(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=l,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=g({},e.props),i=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)x.call(t,u)&&!_.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==o?o[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];a.children=o}return{$$typeof:n,type:e.type,key:i,ref:l,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:z}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},338:(e,t,n)=>{var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},463:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var s=2*(r+1)-1,o=e[s],u=s+1,c=e[u];if(0>i(o,n))u<a&&0>i(c,o)?(e[r]=c,e[u]=n,r=u):(e[r]=o,e[s]=n,r=s);else{if(!(u<a&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],c=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(m=!1,w(e),!g)if(null!==r(u))g=!0,R(x);else{var t=r(c);null!==t&&O(k,t.startTime-e)}}function x(e,n){g=!1,m&&(m=!1,v(E),E=-1),p=!0;var i=h;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!N());){var l=f.callback;if("function"==typeof l){f.callback=null,h=f.priorityLevel;var s=l(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?f.callback=s:f===r(u)&&a(u),w(n)}else a(u);f=r(u)}if(null!==f)var o=!0;else{var d=r(c);null!==d&&O(k,d.startTime-n),o=!1}return o}finally{f=null,h=i,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,C=null,E=-1,j=5,P=-1;function N(){return!(t.unstable_now()-P<j)}function T(){if(null!==C){var e=t.unstable_now();P=e;var n=!0;try{n=C(!0,e)}finally{n?S():(_=!1,C=null)}}else _=!1}if("function"==typeof b)S=function(){b(T)};else if("undefined"!=typeof MessageChannel){var z=new MessageChannel,A=z.port2;z.port1.onmessage=T,S=function(){A.postMessage(null)}}else S=function(){y(T,0)};function R(e){C=e,_||(_=!0,S())}function O(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,i){var l=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>l?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(m?(v(E),E=-1):m=!0,O(k,i-l))):(e.sortIndex=s,n(u,e),g||p||(g=!0,R(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},540:(e,t,n)=>{e.exports=n(287)},551:(e,t,n)=>{var r=n(540),a=n(982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,s={};function o(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)l.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,a,i,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),j=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,I=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function K(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),i=r.stack.split("\n"),l=a.length-1,s=i.length-1;1<=l&&0<=s&&a[l]!==i[s];)s--;for(;1<=l&&0<=s;l--,s--)if(a[l]!==i[s]){if(1!==l||1!==s)do{if(l--,0>--s||a[l]!==i[s]){var o="\n"+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function B(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 1:return K(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case C:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case T:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case z:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function Q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var me=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,xe=null,Se=null;function _e(e){if(e=va(e)){if("function"!=typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Ce(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ee(){if(xe){var e=xe,t=Se;if(Se=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function je(e,t){return e(t)}function Pe(){}var Ne=!1;function Te(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return je(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Pe(),Ee())}}function ze(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Ae=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(e){Ae=!1}function Oe(e,t,n,r,a,i,l,s,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var De=!1,Le=null,Ie=!1,Me=null,Fe={onError:function(e){De=!0,Le=e}};function Ke(e,t,n,r,a,i,l,s,o){De=!1,Le=null,Oe.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Qe(e){if(Be(e)!==e)throw Error(i(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Qe(a),e;if(l===r)return Qe(a),t;l=l.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=l;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,r=l;break}if(o===r){s=!0,r=a,n=l;break}o=o.sibling}if(!s){for(o=l.child;o;){if(o===n){s=!0,n=l,r=a;break}if(o===r){s=!0,r=l,n=a;break}o=o.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var He=a.unstable_scheduleCallback,Ve=a.unstable_cancelCallback,We=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Ge=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,Ze=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,tt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,rt=null,at=null,it=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2,ot=64,ut=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,l=268435455&n;if(0!==l){var s=l&~a;0!==s?r=ct(s):0!==(i&=l)&&(r=ct(i))}else 0!==(l=n&~a)?r=ct(l):0!==i&&(r=ct(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ot;return!(4194240&(ot<<=1))&&(ot=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var wt,kt,xt,St,_t,Ct=!1,Et=[],jt=null,Pt=null,Nt=null,Tt=new Map,zt=new Map,At=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(t.pointerId)}}function Dt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&null!==(t=va(t))&&kt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void _t(e.priority,function(){xt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function It(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Mt(e,t,n){It(e)&&n.delete(t)}function Ft(){Ct=!1,null!==jt&&It(jt)&&(jt=null),null!==Pt&&It(Pt)&&(Pt=null),null!==Nt&&It(Nt)&&(Nt=null),Tt.forEach(Mt),zt.forEach(Mt)}function Kt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return Kt(t,e)}if(0<Et.length){Kt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Kt(jt,e),null!==Pt&&Kt(Pt,e),null!==Nt&&Kt(Nt,e),Tt.forEach(t),zt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Lt(n),null===n.blockedOn&&At.shift()}var Ut=w.ReactCurrentBatchConfig,Qt=!0;function qt(e,t,n,r){var a=vt,i=Ut.transition;Ut.transition=null;try{vt=1,Ht(e,t,n,r)}finally{vt=a,Ut.transition=i}}function $t(e,t,n,r){var a=vt,i=Ut.transition;Ut.transition=null;try{vt=4,Ht(e,t,n,r)}finally{vt=a,Ut.transition=i}}function Ht(e,t,n,r){if(Qt){var a=Wt(e,t,n,r);if(null===a)Qr(e,t,r,Vt,n),Ot(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return jt=Dt(jt,e,t,n,r,a),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,r,a),!0;case"mouseover":return Nt=Dt(Nt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Tt.set(i,Dt(Tt.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,zt.set(i,Dt(zt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var i=va(a);if(null!==i&&wt(i),null===(i=Wt(e,t,n,r))&&Qr(e,t,r,Vt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Qr(e,t,r,null,n)}}var Vt=null;function Wt(e,t,n,r){if(Vt=null,null!==(e=ya(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Gt=null,Xt=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,a="value"in Gt?Gt.value:Gt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[i-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,a,i){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,ln,sn,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(on),cn=I({},on,{view:0,detail:0}),dn=rn(cn),fn=I({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=rn(fn),pn=rn(I({},fn,{dataTransfer:0})),gn=rn(I({},cn,{relatedTarget:0})),mn=rn(I({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=I({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=rn(yn),bn=rn(I({},on,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function _n(){return Sn}var Cn=I({},cn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=rn(Cn),jn=rn(I({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(I({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Nn=rn(I({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tn=I({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zn=rn(Tn),An=[9,13,27,32],Rn=c&&"CompositionEvent"in window,On=null;c&&"documentMode"in document&&(On=document.documentMode);var Dn=c&&"TextEvent"in window&&!On,Ln=c&&(!Rn||On&&8<On&&11>=On),In=String.fromCharCode(32),Mn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1,Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=$r(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Hn=null;function Vn(e){Ir(e,0)}function Wn(e){if(V(ba(e)))return e}function Yn(e,t){if("change"===e)return t}var Gn=!1;if(c){var Xn;if(c){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"==typeof Zn.oninput}Xn=Jn}else Xn=!1;Gn=Xn&&(!document.documentMode||9<document.documentMode)}function er(){$n&&($n.detachEvent("onpropertychange",tr),Hn=$n=null)}function tr(e){if("value"===e.propertyName&&Wn(Hn)){var t=[];qn(t,Hn,e,we(e)),Te(Vn,t)}}function nr(e,t,n){"focusin"===e?(er(),Hn=n,($n=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Hn)}function ar(e,t){if("click"===e)return Wn(t)}function ir(e,t){if("input"===e||"change"===e)return Wn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function sr(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=ur(n,i);var l=ur(n,r);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==W(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=$r(mr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function _r(e){if(xr[e])return xr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=_r("animationend"),Er=_r("animationiteration"),jr=_r("animationstart"),Pr=_r("transitionend"),Nr=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zr(e,t){Nr.set(e,t),o(t,[e])}for(var Ar=0;Ar<Tr.length;Ar++){var Rr=Tr[Ar];zr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}zr(Cr,"onAnimationEnd"),zr(Er,"onAnimationIteration"),zr(jr,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,l,s,o,u){if(Ke.apply(this,arguments),De){if(!De)throw Error(i(198));var c=Le;De=!1,Le=null,Ie||(Ie=!0,Me=c)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],o=s.instance,u=s.currentTarget;if(s=s.listener,o!==i&&a.isPropagationStopped())break e;Lr(a,s,u),i=o}else for(l=0;l<r.length;l++){if(o=(s=r[l]).instance,u=s.currentTarget,s=s.listener,o!==i&&a.isPropagationStopped())break e;Lr(a,s,u),i=o}}}if(Ie)throw e=Me,Ie=!1,Me=null,e}function Mr(e,t){var n=t[pa];void 0===n&&(n=t[pa]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Kr]){e[Kr]=!0,l.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kr]||(t[Kr]=!0,Fr("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Yt(t)){case 1:var a=qt;break;case 4:a=$t;break;default:a=Ht}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Qr(e,t,n,r,a){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==s;){if(null===(l=ya(s)))return;if(5===(o=l.tag)||6===o){r=i=l;continue e}s=s.parentNode}}r=r.return}Te(function(){var r=i,a=we(n),l=[];e:{var s=Nr.get(e);if(void 0!==s){var o=un,u=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":o=En;break;case"focusin":u="focus",o=gn;break;case"focusout":u="blur",o=gn;break;case"beforeblur":case"afterblur":o=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Pn;break;case Cr:case Er:case jr:o=mn;break;case Pr:o=Nn;break;case"scroll":o=dn;break;case"wheel":o=zn;break;case"copy":case"cut":case"paste":o=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=jn}var c=!!(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&null!=(g=ze(p,f))&&c.push(qr(p,g,h))),d)break;p=p.return}0<c.length&&(s=new o(s,u,null,n,a),l.push({event:s,listeners:c}))}}if(!(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[ha])&&(o||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,o?(o=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(o=null,u=r),o!==u)){if(c=hn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=jn,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==o?s:ba(o),h=null==u?s:ba(u),(s=new c(g,p+"leave",o,n,a)).target=d,s.relatedTarget=h,g=null,ya(a)===r&&((c=new c(f,p+"enter",u,n,a)).target=h,c.relatedTarget=d,g=c),d=g,o&&u)e:{for(f=u,p=0,h=c=o;h;h=Hr(h))p++;for(h=0,g=f;g;g=Hr(g))h++;for(;0<p-h;)c=Hr(c),p--;for(;0<h-p;)f=Hr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Hr(c),f=Hr(f)}c=null}else c=null;null!==o&&Vr(l,s,o,c,!1),null!==u&&null!==d&&Vr(l,d,u,c,!0)}if("select"===(o=(s=r?ba(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===o&&"file"===s.type)var m=Yn;else if(Qn(s))if(Gn)m=ir;else{m=rr;var y=nr}else(o=s.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?qn(l,m,n,a):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ba(r):window,e){case"focusin":(Qn(y)||"true"===y.contentEditable)&&(gr=y,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(l,n,a);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(l,n,a)}var v;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=Zt()):(Xt="value"in(Gt=a)?Gt.value:Gt.textContent,Bn=!0)),0<(y=$r(r,b)).length&&(b=new bn(b,e,null,n,a),l.push({event:b,listeners:y}),(v||null!==(v=Kn(n)))&&(b.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Mn=!0,In);case"textInput":return(e=t.data)===In&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Fn(e,t)?(e=Zt(),Jt=Xt=Gt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=$r(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),l.push({event:a,listeners:r}),a.data=v)}Ir(l,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=ze(e,n))&&r.unshift(qr(e,i,a)),null!=(i=ze(e,t))&&r.push(qr(e,i,a))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,a){for(var i=t._reactName,l=[];null!==n&&n!==r;){var s=n,o=s.alternate,u=s.stateNode;if(null!==o&&o===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(o=ze(n,i))&&l.unshift(qr(n,o,s)):a||null!=(o=ze(n,i))&&l.push(qr(n,o,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Wr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Gr(e){return("string"==typeof e?e:""+e).replace(Wr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Gr(t),Gr(e)!==t&&n)throw Error(i(425))}function Jr(){}var Zr=null,ea=null;function ta(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"==typeof setTimeout?setTimeout:void 0,ra="function"==typeof clearTimeout?clearTimeout:void 0,aa="function"==typeof Promise?Promise:void 0,ia="function"==typeof queueMicrotask?queueMicrotask:void 0!==aa?function(e){return aa.resolve(null).then(e).catch(la)}:na;function la(e){setTimeout(function(){throw e})}function sa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function oa(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ca=Math.random().toString(36).slice(2),da="__reactFiber$"+ca,fa="__reactProps$"+ca,ha="__reactContainer$"+ca,pa="__reactEvents$"+ca,ga="__reactListeners$"+ca,ma="__reactHandles$"+ca;function ya(e){var t=e[da];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[da]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[da])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[da]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[fa]||null}var ka=[],xa=-1;function Sa(e){return{current:e}}function _a(e){0>xa||(e.current=ka[xa],ka[xa]=null,xa--)}function Ca(e,t){xa++,ka[xa]=e.current,e.current=t}var Ea={},ja=Sa(Ea),Pa=Sa(!1),Na=Ea;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function za(e){return null!=e.childContextTypes}function Aa(){_a(Pa),_a(ja)}function Ra(e,t,n){if(ja.current!==Ea)throw Error(i(168));Ca(ja,t),Ca(Pa,n)}function Oa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,Q(e)||"Unknown",a));return I({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Na=ja.current,Ca(ja,e),Ca(Pa,Pa.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Oa(e,t,Na),r.__reactInternalMemoizedMergedChildContext=e,_a(Pa),_a(ja),Ca(ja,e)):_a(Pa),Ca(Pa,n)}var Ia=null,Ma=!1,Fa=!1;function Ka(e){null===Ia?Ia=[e]:Ia.push(e)}function Ba(){if(!Fa&&null!==Ia){Fa=!0;var e=0,t=vt;try{var n=Ia;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ia=null,Ma=!1}catch(t){throw null!==Ia&&(Ia=Ia.slice(e+1)),He(Je,Ba),t}finally{vt=t,Fa=!1}}return null}var Ua=[],Qa=0,qa=null,$a=0,Ha=[],Va=0,Wa=null,Ya=1,Ga="";function Xa(e,t){Ua[Qa++]=$a,Ua[Qa++]=qa,qa=e,$a=t}function Ja(e,t,n){Ha[Va++]=Ya,Ha[Va++]=Ga,Ha[Va++]=Wa,Wa=e;var r=Ya;e=Ga;var a=32-it(r)-1;r&=~(1<<a),n+=1;var i=32-it(t)+a;if(30<i){var l=a-a%5;i=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Ya=1<<32-it(t)+a|n<<a|r,Ga=i+e}else Ya=1<<i|n<<a|r,Ga=e}function Za(e){null!==e.return&&(Xa(e,1),Ja(e,1,0))}function ei(e){for(;e===qa;)qa=Ua[--Qa],Ua[Qa]=null,$a=Ua[--Qa],Ua[Qa]=null;for(;e===Wa;)Wa=Ha[--Va],Ha[Va]=null,Ga=Ha[--Va],Ha[Va]=null,Ya=Ha[--Va],Ha[Va]=null}var ti=null,ni=null,ri=!1,ai=null;function ii(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ti=e,ni=oa(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ti=e,ni=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wa?{id:Ya,overflow:Ga}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ti=e,ni=null,!0);default:return!1}}function si(e){return!(!(1&e.mode)||128&e.flags)}function oi(e){if(ri){var t=ni;if(t){var n=t;if(!li(e,t)){if(si(e))throw Error(i(418));t=oa(n.nextSibling);var r=ti;t&&li(e,t)?ii(r,n):(e.flags=-4097&e.flags|2,ri=!1,ti=e)}}else{if(si(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ti=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ti=e}function ci(e){if(e!==ti)return!1;if(!ri)return ui(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ta(e.type,e.memoizedProps)),t&&(t=ni)){if(si(e))throw di(),Error(i(418));for(;t;)ii(e,t),t=oa(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ni=oa(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ni=null}}else ni=ti?oa(e.stateNode.nextSibling):null;return!0}function di(){for(var e=ni;e;)e=oa(e.nextSibling)}function fi(){ni=ti=null,ri=!1}function hi(e){null===ai?ai=[e]:ai.push(e)}var pi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,l=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function mi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yi(e){return(0,e._init)(e._payload)}function vi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Au(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===A&&yi(i)===t.type)?((r=a(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Iu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case x:return(t=Iu(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Ou(t,e.mode,n,null)).return=e,t;mi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==a?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===a?u(e,t,n,r):null;case x:return n.key===a?c(e,t,n,r):null;case A:return h(e,t,(a=n._init)(n._payload),r)}if(te(n)||D(n))return null!==a?null:d(e,t,n,r,null);mi(e,n)}return null}function p(e,t,n,r,a){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,a,null);mi(t,r)}return null}function g(a,i,s,o){for(var u=null,c=null,d=i,g=i=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=h(a,d,s[g],o);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(a,d),i=l(y,i,g),null===c?u=y:c.sibling=y,c=y,d=m}if(g===s.length)return n(a,d),ri&&Xa(a,g),u;if(null===d){for(;g<s.length;g++)null!==(d=f(a,s[g],o))&&(i=l(d,i,g),null===c?u=d:c.sibling=d,c=d);return ri&&Xa(a,g),u}for(d=r(a,d);g<s.length;g++)null!==(m=p(d,a,g,s[g],o))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),i=l(m,i,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(a,e)}),ri&&Xa(a,g),u}function m(a,s,o,u){var c=D(o);if("function"!=typeof c)throw Error(i(150));if(null==(o=c.call(o)))throw Error(i(151));for(var d=c=null,g=s,m=s=0,y=null,v=o.next();null!==g&&!v.done;m++,v=o.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=h(a,g,v.value,u);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(a,g),s=l(b,s,m),null===d?c=b:d.sibling=b,d=b,g=y}if(v.done)return n(a,g),ri&&Xa(a,m),c;if(null===g){for(;!v.done;m++,v=o.next())null!==(v=f(a,v.value,u))&&(s=l(v,s,m),null===d?c=v:d.sibling=v,d=v);return ri&&Xa(a,m),c}for(g=r(a,g);!v.done;m++,v=o.next())null!==(v=p(g,a,m,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?m:v.key),s=l(v,s,m),null===d?c=v:d.sibling=v,d=v);return e&&g.forEach(function(e){return t(a,e)}),ri&&Xa(a,m),c}return function e(r,i,l,o){if("object"==typeof l&&null!==l&&l.type===S&&null===l.key&&(l=l.props.children),"object"==typeof l&&null!==l){switch(l.$$typeof){case k:e:{for(var u=l.key,c=i;null!==c;){if(c.key===u){if((u=l.type)===S){if(7===c.tag){n(r,c.sibling),(i=a(c,l.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===A&&yi(u)===c.type){n(r,c.sibling),(i=a(c,l.props)).ref=gi(r,c,l),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}l.type===S?((i=Ou(l.props.children,r.mode,o,l.key)).return=r,r=i):((o=Ru(l.type,l.key,l.props,null,r.mode,o)).ref=gi(r,i,l),o.return=r,r=o)}return s(r);case x:e:{for(c=l.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===l.containerInfo&&i.stateNode.implementation===l.implementation){n(r,i.sibling),(i=a(i,l.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Iu(l,r.mode,o)).return=r,r=i}return s(r);case A:return e(r,i,(c=l._init)(l._payload),o)}if(te(l))return g(r,i,l,o);if(D(l))return m(r,i,l,o);mi(r,l)}return"string"==typeof l&&""!==l||"number"==typeof l?(l=""+l,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,l)).return=r,r=i):(n(r,i),(i=Lu(l,r.mode,o)).return=r,r=i),s(r)):n(r,i)}}var bi=vi(!0),wi=vi(!1),ki=Sa(null),xi=null,Si=null,_i=null;function Ci(){_i=Si=xi=null}function Ei(e){var t=ki.current;_a(ki),e._currentValue=t}function ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){xi=e,_i=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ys=!0),e.firstContext=null)}function Ni(e){var t=e._currentValue;if(_i!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===xi)throw Error(i(308));Si=e,xi.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Ti=null;function zi(e){null===Ti?Ti=[e]:Ti.push(e)}function Ai(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,zi(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&jo){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ri(e,n)}return null===(a=r.interleaved)?(t.next=t,zi(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ri(e,n)}function Fi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ki(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bi(e,t,n,r){var a=e.updateQueue;Oi=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var o=s,u=o.next;o.next=null,null===l?i=u:l.next=u,l=o;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=o)}if(null!==i){var d=a.baseState;for(l=0,c=u=o=null,s=i;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(h,d,f):p))break e;d=I({},d,f);break e;case 2:Oi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,o=d):c=c.next=h,l|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===c&&(o=d),a.baseState=o,a.firstBaseUpdate=u,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Do|=l,e.lanes=l,e.memoizedState=d}}function Ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!=typeof a)throw Error(i(191,a));a.call(r)}}}var Qi={},qi=Sa(Qi),$i=Sa(Qi),Hi=Sa(Qi);function Vi(e){if(e===Qi)throw Error(i(174));return e}function Wi(e,t){switch(Ca(Hi,t),Ca($i,e),Ca(qi,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_a(qi),Ca(qi,t)}function Yi(){_a(qi),_a($i),_a(Hi)}function Gi(e){Vi(Hi.current);var t=Vi(qi.current),n=oe(t,e.type);t!==n&&(Ca($i,e),Ca(qi,n))}function Xi(e){$i.current===e&&(_a(qi),_a($i))}var Ji=Sa(0);function Zi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var el=[];function tl(){for(var e=0;e<el.length;e++)el[e]._workInProgressVersionPrimary=null;el.length=0}var nl=w.ReactCurrentDispatcher,rl=w.ReactCurrentBatchConfig,al=0,il=null,ll=null,sl=null,ol=!1,ul=!1,cl=0,dl=0;function fl(){throw Error(i(321))}function hl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function pl(e,t,n,r,a,l){if(al=l,il=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nl.current=null===e||null===e.memoizedState?Xl:Jl,e=n(r,a),ul){l=0;do{if(ul=!1,cl=0,25<=l)throw Error(i(301));l+=1,sl=ll=null,t.updateQueue=null,nl.current=Zl,e=n(r,a)}while(ul)}if(nl.current=Gl,t=null!==ll&&null!==ll.next,al=0,sl=ll=il=null,ol=!1,t)throw Error(i(300));return e}function gl(){var e=0!==cl;return cl=0,e}function ml(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sl?il.memoizedState=sl=e:sl=sl.next=e,sl}function yl(){if(null===ll){var e=il.alternate;e=null!==e?e.memoizedState:null}else e=ll.next;var t=null===sl?il.memoizedState:sl.next;if(null!==t)sl=t,ll=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ll=e).memoizedState,baseState:ll.baseState,baseQueue:ll.baseQueue,queue:ll.queue,next:null},null===sl?il.memoizedState=sl=e:sl=sl.next=e}return sl}function vl(e,t){return"function"==typeof t?t(e):t}function bl(e){var t=yl(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ll,a=r.baseQueue,l=n.pending;if(null!==l){if(null!==a){var s=a.next;a.next=l.next,l.next=s}r.baseQueue=a=l,n.pending=null}if(null!==a){l=a.next,r=r.baseState;var o=s=null,u=null,c=l;do{var d=c.lane;if((al&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(o=u=f,s=r):u=u.next=f,il.lanes|=d,Do|=d}c=c.next}while(null!==c&&c!==l);null===u?s=r:u.next=o,lr(r,t.memoizedState)||(ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{l=a.lane,il.lanes|=l,Do|=l,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wl(e){var t=yl(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{l=e(l,s.action),s=s.next}while(s!==a);lr(l,t.memoizedState)||(ys=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function kl(){}function xl(e,t){var n=il,r=yl(),a=t(),l=!lr(r.memoizedState,a);if(l&&(r.memoizedState=a,ys=!0),r=r.queue,Ol(Cl.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==sl&&1&sl.memoizedState.tag){if(n.flags|=2048,Nl(9,_l.bind(null,n,r,a,t),void 0,null),null===Po)throw Error(i(349));30&al||Sl(n,t,a)}return a}function Sl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _l(e,t,n,r){t.value=n,t.getSnapshot=r,El(t)&&jl(e)}function Cl(e,t,n){return n(function(){El(t)&&jl(e)})}function El(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(e){return!0}}function jl(e){var t=Ri(e,1);null!==t&&tu(t,e,1,-1)}function Pl(e){var t=ml();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Hl.bind(null,il,e),[t.memoizedState,e]}function Nl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Tl(){return yl().memoizedState}function zl(e,t,n,r){var a=ml();il.flags|=e,a.memoizedState=Nl(1|t,n,void 0,void 0===r?null:r)}function Al(e,t,n,r){var a=yl();r=void 0===r?null:r;var i=void 0;if(null!==ll){var l=ll.memoizedState;if(i=l.destroy,null!==r&&hl(r,l.deps))return void(a.memoizedState=Nl(t,n,i,r))}il.flags|=e,a.memoizedState=Nl(1|t,n,i,r)}function Rl(e,t){return zl(8390656,8,e,t)}function Ol(e,t){return Al(2048,8,e,t)}function Dl(e,t){return Al(4,2,e,t)}function Ll(e,t){return Al(4,4,e,t)}function Il(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ml(e,t,n){return n=null!=n?n.concat([e]):null,Al(4,4,Il.bind(null,t,e),n)}function Fl(){}function Kl(e,t){var n=yl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bl(e,t){var n=yl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&hl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ul(e,t,n){return 21&al?(lr(n,t)||(n=pt(),il.lanes|=n,Do|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ys=!0),e.memoizedState=n)}function Ql(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=rl.transition;rl.transition={};try{e(!1),t()}finally{vt=n,rl.transition=r}}function ql(){return yl().memoizedState}function $l(e,t,n){var r=eu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vl(e)?Wl(t,n):null!==(n=Ai(e,t,n,r))&&(tu(n,e,r,Zo()),Yl(n,t,r))}function Hl(e,t,n){var r=eu(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vl(e))Wl(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=i(l,n);if(a.hasEagerState=!0,a.eagerState=s,lr(s,l)){var o=t.interleaved;return null===o?(a.next=a,zi(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(e){}null!==(n=Ai(e,t,a,r))&&(tu(n,e,r,a=Zo()),Yl(n,t,r))}}function Vl(e){var t=e.alternate;return e===il||null!==t&&t===il}function Wl(e,t){ul=ol=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yl(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Gl={readContext:Ni,useCallback:fl,useContext:fl,useEffect:fl,useImperativeHandle:fl,useInsertionEffect:fl,useLayoutEffect:fl,useMemo:fl,useReducer:fl,useRef:fl,useState:fl,useDebugValue:fl,useDeferredValue:fl,useTransition:fl,useMutableSource:fl,useSyncExternalStore:fl,useId:fl,unstable_isNewReconciler:!1},Xl={readContext:Ni,useCallback:function(e,t){return ml().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:Rl,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,zl(4194308,4,Il.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var n=ml();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ml();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$l.bind(null,il,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ml().memoizedState=e},useState:Pl,useDebugValue:Fl,useDeferredValue:function(e){return ml().memoizedState=e},useTransition:function(){var e=Pl(!1),t=e[0];return e=Ql.bind(null,e[1]),ml().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=il,a=ml();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Po)throw Error(i(349));30&al||Sl(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Rl(Cl.bind(null,r,l,e),[e]),r.flags|=2048,Nl(9,_l.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=ml(),t=Po.identifierPrefix;if(ri){var n=Ga;t=":"+t+"R"+(n=(Ya&~(1<<32-it(Ya)-1)).toString(32)+n),0<(n=cl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=dl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jl={readContext:Ni,useCallback:Kl,useContext:Ni,useEffect:Ol,useImperativeHandle:Ml,useInsertionEffect:Dl,useLayoutEffect:Ll,useMemo:Bl,useReducer:bl,useRef:Tl,useState:function(){return bl(vl)},useDebugValue:Fl,useDeferredValue:function(e){return Ul(yl(),ll.memoizedState,e)},useTransition:function(){return[bl(vl)[0],yl().memoizedState]},useMutableSource:kl,useSyncExternalStore:xl,useId:ql,unstable_isNewReconciler:!1},Zl={readContext:Ni,useCallback:Kl,useContext:Ni,useEffect:Ol,useImperativeHandle:Ml,useInsertionEffect:Dl,useLayoutEffect:Ll,useMemo:Bl,useReducer:wl,useRef:Tl,useState:function(){return wl(vl)},useDebugValue:Fl,useDeferredValue:function(e){var t=yl();return null===ll?t.memoizedState=e:Ul(t,ll.memoizedState,e)},useTransition:function(){return[wl(vl)[0],yl().memoizedState]},useMutableSource:kl,useSyncExternalStore:xl,useId:ql,unstable_isNewReconciler:!1};function es(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ts(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ns={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zo(),a=eu(e),i=Ii(r,a);i.payload=t,null!=n&&(i.callback=n),null!==(t=Mi(e,i,a))&&(tu(t,e,a,r),Fi(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zo(),a=eu(e),i=Ii(r,a);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Mi(e,i,a))&&(tu(t,e,a,r),Fi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zo(),r=eu(e),a=Ii(n,r);a.tag=2,null!=t&&(a.callback=t),null!==(t=Mi(e,a,r))&&(tu(t,e,r,n),Fi(t,e,r))}};function rs(e,t,n,r,a,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,l):!(t.prototype&&t.prototype.isPureReactComponent&&sr(n,r)&&sr(a,i))}function as(e,t,n){var r=!1,a=Ea,i=t.contextType;return"object"==typeof i&&null!==i?i=Ni(i):(a=za(t)?Na:ja.current,i=(r=null!=(r=t.contextTypes))?Ta(e,a):Ea),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ns,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function is(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ns.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Di(e);var i=t.contextType;"object"==typeof i&&null!==i?a.context=Ni(i):(i=za(t)?Na:ja.current,a.context=Ta(e,i)),a.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(ts(e,t,i,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ns.enqueueReplaceState(a,a.state,null),Bi(e,n,a,r),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}function ss(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a,digest:null}}function os(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var cs="function"==typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=Ii(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qo||(Qo=!0,qo=r),us(0,t)},n}function fs(e,t,n){(n=Ii(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){us(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){us(0,t),"function"!=typeof r&&(null===$o?$o=new Set([this]):$o.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new cs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function ps(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,a){return 1&e.mode?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ii(-1,1)).tag=2,Mi(n,t,1))),n.lanes|=1),e)}var ms=w.ReactCurrentOwner,ys=!1;function vs(e,t,n,r){t.child=null===e?wi(t,null,n,r):bi(t,e.child,n,r)}function bs(e,t,n,r,a){n=n.render;var i=t.ref;return Pi(t,a),r=pl(e,t,n,r,i,a),n=gl(),null===e||ys?(ri&&n&&Za(t),t.flags|=1,vs(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Us(e,t,a))}function ws(e,t,n,r,a){if(null===e){var i=n.type;return"function"!=typeof i||zu(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(l,r)&&e.ref===t.ref)return Us(e,t,a)}return t.flags|=1,(e=Au(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(sr(i,r)&&e.ref===t.ref){if(ys=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Us(e,t,a);131072&e.flags&&(ys=!0)}}return _s(e,t,n,r,a)}function xs(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Ao,zo),zo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ca(Ao,zo),zo|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Ao,zo),zo|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ca(Ao,zo),zo|=r;return vs(e,t,a,n),t.child}function Ss(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,a){var i=za(n)?Na:ja.current;return i=Ta(t,i),Pi(t,a),n=pl(e,t,n,r,i,a),r=gl(),null===e||ys?(ri&&r&&Za(t),t.flags|=1,vs(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Us(e,t,a))}function Cs(e,t,n,r,a){if(za(n)){var i=!0;Da(t)}else i=!1;if(Pi(t,a),null===t.stateNode)Bs(e,t),as(t,n,r),ls(t,n,r,a),r=!0;else if(null===e){var l=t.stateNode,s=t.memoizedProps;l.props=s;var o=l.context,u=n.contextType;u="object"==typeof u&&null!==u?Ni(u):Ta(t,u=za(n)?Na:ja.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof l.getSnapshotBeforeUpdate;d||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(s!==r||o!==u)&&is(t,l,r,u),Oi=!1;var f=t.memoizedState;l.state=f,Bi(t,r,l,a),o=t.memoizedState,s!==r||f!==o||Pa.current||Oi?("function"==typeof c&&(ts(t,n,c,r),o=t.memoizedState),(s=Oi||rs(t,n,s,r,f,o,u))?(d||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),l.props=r,l.state=o,l.context=u,r=s):("function"==typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Li(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:es(t.type,s),l.props=u,d=t.pendingProps,f=l.context,o="object"==typeof(o=n.contextType)&&null!==o?Ni(o):Ta(t,o=za(n)?Na:ja.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(s!==d||f!==o)&&is(t,l,r,o),Oi=!1,f=t.memoizedState,l.state=f,Bi(t,r,l,a);var p=t.memoizedState;s!==d||f!==p||Pa.current||Oi?("function"==typeof h&&(ts(t,n,h,r),p=t.memoizedState),(u=Oi||rs(t,n,u,r,f,p,o)||!1)?(c||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(r,p,o),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,p,o)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=o,r=u):("function"!=typeof l.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Es(e,t,n,r,i,a)}function Es(e,t,n,r,a,i){Ss(e,t);var l=!!(128&t.flags);if(!r&&!l)return a&&La(t,n,!1),Us(e,t,i);r=t.stateNode,ms.current=t;var s=l&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=bi(t,e.child,null,i),t.child=bi(t,null,s,i)):vs(e,t,s,i),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),Wi(e,t.containerInfo)}function Ps(e,t,n,r,a){return fi(),hi(a),t.flags|=256,vs(e,t,n,r),t.child}var Ns,Ts,zs,As,Rs={dehydrated:null,treeContext:null,retryLane:0};function Os(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,a=t.pendingProps,l=Ji.current,s=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&l)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Ca(Ji,1&l),null===e)return oi(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,s?(a=t.mode,s=t.child,o={mode:"hidden",children:o},1&a||null===s?s=Du(o,a,0,null):(s.childLanes=0,s.pendingProps=o),e=Ou(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Os(n),t.memoizedState=Rs,e):Ls(t,o));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,a,l,s){if(n)return 256&t.flags?(t.flags&=-257,Is(e,t,s,r=os(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=Du({mode:"visible",children:r.children},a,0,null),(l=Ou(l,a,s,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,1&t.mode&&bi(t,e.child,null,s),t.child.memoizedState=Os(s),t.memoizedState=Rs,l);if(!(1&t.mode))return Is(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var o=r.dgst;return r=o,Is(e,t,s,r=os(l=Error(i(419)),r,void 0))}if(o=0!==(s&e.childLanes),ys||o){if(null!==(r=Po)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Ri(e,a),tu(r,e,a,-1))}return pu(),Is(e,t,s,r=os(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,ni=oa(a.nextSibling),ti=t,ri=!0,ai=null,null!==e&&(Ha[Va++]=Ya,Ha[Va++]=Ga,Ha[Va++]=Wa,Ya=e.id,Ga=e.overflow,Wa=t),(t=Ls(t,r.children)).flags|=4096,t)}(e,t,o,a,r,l,n);if(s){s=a.fallback,o=t.mode,r=(l=e.child).sibling;var u={mode:"hidden",children:a.children};return 1&o||t.child===l?(a=Au(l,u)).subtreeFlags=14680064&l.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=u,t.deletions=null),null!==r?s=Au(r,s):(s=Ou(s,o,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,o=null===(o=e.child.memoizedState)?Os(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,a}return e=(s=e.child).sibling,a=Au(s,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ls(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Is(e,t,n,r){return null!==r&&hi(r),bi(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ms(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ji(e.return,t,n)}function Fs(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Ks(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(vs(e,t,r.children,n),2&(r=Ji.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ms(e,n,t);else if(19===e.tag)Ms(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(Ji,r),1&t.mode)switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Zi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Fs(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Zi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Fs(t,!0,n,null,i);break;case"together":Fs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Bs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Au(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Au(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qs(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $s(e,t,n){var r=t.pendingProps;switch(ei(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return za(t.type)&&Aa(),qs(t),null;case 3:return r=t.stateNode,Yi(),_a(Pa),_a(ja),tl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ci(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(iu(ai),ai=null))),Ts(e,t),qs(t),null;case 5:Xi(t);var a=Vi(Hi.current);if(n=t.type,null!==e&&null!=t.stateNode)zs(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=Vi(qi.current),ci(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[da]=t,r[fa]=l,e=!!(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(a=0;a<Or.length;a++)Mr(Or[a],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":G(r,l),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Mr("invalid",r);break;case"textarea":ae(r,l),Mr("invalid",r)}for(var o in ye(n,l),a=null,l)if(l.hasOwnProperty(o)){var u=l[o];"children"===o?"string"==typeof u?r.textContent!==u&&(!0!==l.suppressHydrationWarning&&Xr(r.textContent,u,e),a=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==l.suppressHydrationWarning&&Xr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(o)&&null!=u&&"onScroll"===o&&Mr("scroll",r)}switch(n){case"input":H(r),Z(r,l,!0);break;case"textarea":H(r),le(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[da]=t,e[fa]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),a=r;break;case"iframe":case"object":case"embed":Mr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Or.length;a++)Mr(Or[a],e);a=r;break;case"source":Mr("error",e),a=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=r;break;case"details":Mr("toggle",e),a=r;break;case"input":G(e,r),a=Y(e,r),Mr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=I({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Mr("invalid",e)}for(l in ye(n,a),u=a)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?ge(e,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===l?"string"==typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"==typeof c&&de(e,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?null!=c&&"onScroll"===l&&Mr("scroll",e):null!=c&&b(e,l,c,o))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)As(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Vi(Hi.current),Vi(qi.current),ci(t)){if(r=t.stateNode,n=t.memoizedProps,r[da]=t,(l=r.nodeValue!==n)&&null!==(e=ti))switch(e.tag){case 3:Xr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,!!(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[da]=t,t.stateNode=r}return qs(t),null;case 13:if(_a(Ji),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==ni&&1&t.mode&&!(128&t.flags))di(),fi(),t.flags|=98560,l=!1;else if(l=ci(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(i(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(i(317));l[da]=t}else fi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),l=!1}else null!==ai&&(iu(ai),ai=null),l=!0;if(!l)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Ji.current?0===Ro&&(Ro=3):pu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Yi(),Ts(e,t),null===e&&Br(t.stateNode.containerInfo),qs(t),null;case 10:return Ei(t.type._context),qs(t),null;case 19:if(_a(Ji),null===(l=t.memoizedState))return qs(t),null;if(r=!!(128&t.flags),null===(o=l.rendering))if(r)Qs(l,!1);else{if(0!==Ro||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Zi(e))){for(t.flags|=128,Qs(l,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(Ji,1&Ji.current|2),t.child}e=e.sibling}null!==l.tail&&Ge()>Bo&&(t.flags|=128,r=!0,Qs(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Zi(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qs(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!ri)return qs(t),null}else 2*Ge()-l.renderingStartTime>Bo&&1073741824!==n&&(t.flags|=128,r=!0,Qs(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ge(),t.sibling=null,n=Ji.current,Ca(Ji,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return cu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&zo)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Hs(e,t){switch(ei(t),t.tag){case 1:return za(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yi(),_a(Pa),_a(ja),tl(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xi(t),null;case 13:if(_a(Ji),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _a(Ji),null;case 4:return Yi(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return cu(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ts=function(){},zs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Vi(qi.current);var i,l=null;switch(n){case"input":a=Y(e,a),r=Y(e,r),l=[];break;case"select":a=I({},a,{value:void 0}),r=I({},r,{value:void 0}),l=[];break;case"textarea":a=re(e,a),r=re(e,r),l=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(o=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(null!=u||null!=o))if("style"===c)if(o){for(i in o)!o.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&o[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(l||(l=[]),l.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,o=o?o.__html:void 0,null!=u&&o!==u&&(l=l||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(l=l||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Mr("scroll",e),l||o===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}},As=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vs=!1,Ws=!1,Ys="function"==typeof WeakSet?WeakSet:Set,Gs=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Su(e,t,n)}else n.current=null}function Js(e,t,n){try{n()}catch(n){Su(e,t,n)}}var Zs=!1;function eo(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&Js(t,n,i)}a=a.next}while(a!==r)}}function to(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function no(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ro(e){var t=e.alternate;null!==t&&(e.alternate=null,ro(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[da],delete t[fa],delete t[pa],delete t[ga],delete t[ma]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ao(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ao(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function so(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(so(e,t,n),e=e.sibling;null!==e;)so(e,t,n),e=e.sibling}var oo=null,uo=!1;function co(e,t,n){for(n=n.child;null!==n;)fo(e,t,n),n=n.sibling}function fo(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(e){}switch(n.tag){case 5:Ws||Xs(n,t);case 6:var r=oo,a=uo;oo=null,co(e,t,n),uo=a,null!==(oo=r)&&(uo?(e=oo,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):oo.removeChild(n.stateNode));break;case 18:null!==oo&&(uo?(e=oo,n=n.stateNode,8===e.nodeType?sa(e.parentNode,n):1===e.nodeType&&sa(e,n),Bt(e)):sa(oo,n.stateNode));break;case 4:r=oo,a=uo,oo=n.stateNode.containerInfo,uo=!0,co(e,t,n),oo=r,uo=a;break;case 0:case 11:case 14:case 15:if(!Ws&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){a=r=r.next;do{var i=a,l=i.destroy;i=i.tag,void 0!==l&&(2&i||4&i)&&Js(n,t,l),a=a.next}while(a!==r)}co(e,t,n);break;case 1:if(!Ws&&(Xs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Su(n,t,e)}co(e,t,n);break;case 21:co(e,t,n);break;case 22:1&n.mode?(Ws=(r=Ws)||null!==n.memoizedState,co(e,t,n),Ws=r):co(e,t,n);break;default:co(e,t,n)}}function ho(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach(function(t){var r=ju.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function po(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,s=t,o=s;e:for(;null!==o;){switch(o.tag){case 5:oo=o.stateNode,uo=!1;break e;case 3:case 4:oo=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===oo)throw Error(i(160));fo(l,s,a),oo=null,uo=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(e){Su(a,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(po(t,e),mo(e),4&r){try{eo(3,e,e.return),to(3,e)}catch(t){Su(e,e.return,t)}try{eo(5,e,e.return)}catch(t){Su(e,e.return,t)}}break;case 1:po(t,e),mo(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(po(t,e),mo(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(t){Su(e,e.return,t)}}if(4&r&&null!=(a=e.stateNode)){var l=e.memoizedProps,s=null!==n?n.memoizedProps:l,o=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===o&&"radio"===l.type&&null!=l.name&&X(a,l),ve(o,s);var c=ve(o,l);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?ge(a,f):"dangerouslySetInnerHTML"===d?ce(a,f):"children"===d?de(a,f):b(a,d,f,c)}switch(o){case"input":J(a,l);break;case"textarea":ie(a,l);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var p=l.value;null!=p?ne(a,!!l.multiple,p,!1):h!==!!l.multiple&&(null!=l.defaultValue?ne(a,!!l.multiple,l.defaultValue,!0):ne(a,!!l.multiple,l.multiple?[]:"",!1))}a[fa]=l}catch(t){Su(e,e.return,t)}}break;case 6:if(po(t,e),mo(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(t){Su(e,e.return,t)}}break;case 3:if(po(t,e),mo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(t){Su(e,e.return,t)}break;case 4:default:po(t,e),mo(e);break;case 13:po(t,e),mo(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Ko=Ge())),4&r&&ho(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ws=(c=Ws)||d,po(t,e),Ws=c):po(t,e),mo(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Gs=e,d=e.child;null!==d;){for(f=Gs=d;null!==Gs;){switch(p=(h=Gs).child,h.tag){case 0:case 11:case 14:case 15:eo(4,h,h.return);break;case 1:Xs(h,h.return);var g=h.stateNode;if("function"==typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Su(r,n,e)}}break;case 5:Xs(h,h.return);break;case 22:if(null!==h.memoizedState){wo(f);continue}}null!==p?(p.return=h,Gs=p):wo(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"==typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,o.style.display=pe("display",s))}catch(t){Su(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(t){Su(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:po(t,e),mo(e),4&r&&ho(e);case 21:}}function mo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ao(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(de(a,""),r.flags&=-33),so(e,io(e),a);break;case 3:case 4:var l=r.stateNode.containerInfo;lo(e,io(e),l);break;default:throw Error(i(161))}}catch(t){Su(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,n){Gs=e,vo(e,t,n)}function vo(e,t,n){for(var r=!!(1&e.mode);null!==Gs;){var a=Gs,i=a.child;if(22===a.tag&&r){var l=null!==a.memoizedState||Vs;if(!l){var s=a.alternate,o=null!==s&&null!==s.memoizedState||Ws;s=Vs;var u=Ws;if(Vs=l,(Ws=o)&&!u)for(Gs=a;null!==Gs;)o=(l=Gs).child,22===l.tag&&null!==l.memoizedState?ko(a):null!==o?(o.return=l,Gs=o):ko(a);for(;null!==i;)Gs=i,vo(i,t,n),i=i.sibling;Gs=a,Vs=s,Ws=u}bo(e)}else 8772&a.subtreeFlags&&null!==i?(i.return=a,Gs=i):bo(e)}}function bo(e){for(;null!==Gs;){var t=Gs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ws||to(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ws)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:es(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Ui(t,l,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ui(t,s,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Bt(f)}}}break;default:throw Error(i(163))}Ws||512&t.flags&&no(t)}catch(e){Su(t,t.return,e)}}if(t===e){Gs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Gs=n;break}Gs=t.return}}function wo(e){for(;null!==Gs;){var t=Gs;if(t===e){Gs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Gs=n;break}Gs=t.return}}function ko(e){for(;null!==Gs;){var t=Gs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{to(4,t)}catch(e){Su(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(e){Su(t,a,e)}}var i=t.return;try{no(t)}catch(e){Su(t,i,e)}break;case 5:var l=t.return;try{no(t)}catch(e){Su(t,l,e)}}}catch(e){Su(t,t.return,e)}if(t===e){Gs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Gs=s;break}Gs=t.return}}var xo,So=Math.ceil,_o=w.ReactCurrentDispatcher,Co=w.ReactCurrentOwner,Eo=w.ReactCurrentBatchConfig,jo=0,Po=null,No=null,To=0,zo=0,Ao=Sa(0),Ro=0,Oo=null,Do=0,Lo=0,Io=0,Mo=null,Fo=null,Ko=0,Bo=1/0,Uo=null,Qo=!1,qo=null,$o=null,Ho=!1,Vo=null,Wo=0,Yo=0,Go=null,Xo=-1,Jo=0;function Zo(){return 6&jo?Ge():-1!==Xo?Xo:Xo=Ge()}function eu(e){return 1&e.mode?2&jo&&0!==To?To&-To:null!==pi.transition?(0===Jo&&(Jo=pt()),Jo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Yt(e.type):1}function tu(e,t,n,r){if(50<Yo)throw Yo=0,Go=null,Error(i(185));mt(e,n,r),2&jo&&e===Po||(e===Po&&(!(2&jo)&&(Lo|=n),4===Ro&&lu(e,To)),nu(e,r),1===n&&0===jo&&!(1&t.mode)&&(Bo=Ge()+500,Ma&&Ba()))}function nu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-it(i),s=1<<l,o=a[l];-1===o?0!==(s&n)&&0===(s&r)||(a[l]=ft(s,t)):o<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=dt(e,e===Po?To:0);if(0===r)null!==n&&Ve(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ve(n),1===t)0===e.tag?function(e){Ma=!0,Ka(e)}(su.bind(null,e)):Ka(su.bind(null,e)),ia(function(){!(6&jo)&&Ba()}),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Pu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Xo=-1,Jo=0,6&jo)throw Error(i(327));var n=e.callbackNode;if(ku()&&e.callbackNode!==n)return null;var r=dt(e,e===Po?To:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var a=jo;jo|=2;var l=hu();for(Po===e&&To===t||(Uo=null,Bo=Ge()+500,du(e,t));;)try{yu();break}catch(t){fu(e,t)}Ci(),_o.current=l,jo=a,null!==No?t=0:(Po=null,To=0,t=Ro)}if(0!==t){if(2===t&&0!==(a=ht(e))&&(r=a,t=au(e,a)),1===t)throw n=Oo,du(e,0),lu(e,r),nu(e,Ge()),n;if(6===t)lu(e,r);else{if(a=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!lr(i(),a))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=gu(e,r),2===t&&(l=ht(e),0!==l&&(r=l,t=au(e,l))),1!==t)))throw n=Oo,du(e,0),lu(e,r),nu(e,Ge()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wu(e,Fo,Uo);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Ko+500-Ge())){if(0!==dt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Zo(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(wu.bind(null,e,Fo,Uo),t);break}wu(e,Fo,Uo);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);l=1<<s,(s=t[s])>a&&(a=s),r&=~l}if(r=a,10<(r=(120>(r=Ge()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*So(r/1960))-r)){e.timeoutHandle=na(wu.bind(null,e,Fo,Uo),r);break}wu(e,Fo,Uo);break;default:throw Error(i(329))}}}return nu(e,Ge()),e.callbackNode===n?ru.bind(null,e):null}function au(e,t){var n=Mo;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Fo,Fo=n,null!==t&&iu(t)),e}function iu(e){null===Fo?Fo=e:Fo.push.apply(Fo,e)}function lu(e,t){for(t&=~Io,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(6&jo)throw Error(i(327));ku();var t=dt(e,0);if(!(1&t))return nu(e,Ge()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Oo,du(e,0),lu(e,t),nu(e,Ge()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Fo,Uo),nu(e,Ge()),null}function ou(e,t){var n=jo;jo|=1;try{return e(t)}finally{0===(jo=n)&&(Bo=Ge()+500,Ma&&Ba())}}function uu(e){null!==Vo&&0===Vo.tag&&!(6&jo)&&ku();var t=jo;jo|=1;var n=Eo.transition,r=vt;try{if(Eo.transition=null,vt=1,e)return e()}finally{vt=r,Eo.transition=n,!(6&(jo=t))&&Ba()}}function cu(){zo=Ao.current,_a(Ao)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ra(n)),null!==No)for(n=No.return;null!==n;){var r=n;switch(ei(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Aa();break;case 3:Yi(),_a(Pa),_a(ja),tl();break;case 5:Xi(r);break;case 4:Yi();break;case 13:case 19:_a(Ji);break;case 10:Ei(r.type._context);break;case 22:case 23:cu()}n=n.return}if(Po=e,No=e=Au(e.current,null),To=zo=t,Ro=0,Oo=null,Io=Lo=Do=0,Fo=Mo=null,null!==Ti){for(t=0;t<Ti.length;t++)if(null!==(r=(n=Ti[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var l=i.next;i.next=a,r.next=l}n.pending=r}Ti=null}return e}function fu(e,t){for(;;){var n=No;try{if(Ci(),nl.current=Gl,ol){for(var r=il.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ol=!1}if(al=0,sl=ll=il=null,ul=!1,cl=0,Co.current=null,null===n||null===n.return){Ro=1,Oo=t,No=null;break}e:{var l=e,s=n.return,o=n,u=t;if(t=To,o.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=o,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ps(s);if(null!==p){p.flags&=-257,gs(p,s,o,0,t),1&p.mode&&hs(l,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(!(1&t)){hs(l,c,t),pu();break e}u=Error(i(426))}else if(ri&&1&o.mode){var y=ps(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),gs(y,s,o,0,t),hi(ss(u,o));break e}}l=u=ss(u,o),4!==Ro&&(Ro=2),null===Mo?Mo=[l]:Mo.push(l),l=s;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Ki(l,ds(0,u,t));break e;case 1:o=u;var v=l.type,b=l.stateNode;if(!(128&l.flags||"function"!=typeof v.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==$o&&$o.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Ki(l,fs(l,o,t));break e}}l=l.return}while(null!==l)}bu(n)}catch(e){t=e,No===n&&null!==n&&(No=n=n.return);continue}break}}function hu(){var e=_o.current;return _o.current=Gl,null===e?Gl:e}function pu(){0!==Ro&&3!==Ro&&2!==Ro||(Ro=4),null===Po||!(268435455&Do)&&!(268435455&Lo)||lu(Po,To)}function gu(e,t){var n=jo;jo|=2;var r=hu();for(Po===e&&To===t||(Uo=null,du(e,t));;)try{mu();break}catch(t){fu(e,t)}if(Ci(),jo=n,_o.current=r,null!==No)throw Error(i(261));return Po=null,To=0,Ro}function mu(){for(;null!==No;)vu(No)}function yu(){for(;null!==No&&!We();)vu(No)}function vu(e){var t=xo(e.alternate,e,zo);e.memoizedProps=e.pendingProps,null===t?bu(e):No=t,Co.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Hs(n,t)))return n.flags&=32767,void(No=n);if(null===e)return Ro=6,void(No=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=$s(n,t,zo)))return void(No=n);if(null!==(t=t.sibling))return void(No=t);No=t=e}while(null!==t);0===Ro&&(Ro=5)}function wu(e,t,n){var r=vt,a=Eo.transition;try{Eo.transition=null,vt=1,function(e,t,n,r){do{ku()}while(null!==Vo);if(6&jo)throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,l),e===Po&&(No=Po=null,To=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Ho||(Ho=!0,Pu(et,function(){return ku(),null})),l=!!(15990&n.flags),15990&n.subtreeFlags||l){l=Eo.transition,Eo.transition=null;var s=vt;vt=1;var o=jo;jo|=4,Co.current=null,function(e,t){if(Zr=Qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(e){n=null;break e}var s=0,o=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(o=s+a),f!==l||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===a&&(o=s),h===l&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===o||-1===u?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ea={focusedElem:e,selectionRange:n},Qt=!1,Gs=t;null!==Gs;)if(e=(t=Gs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Gs=e;else for(;null!==Gs;){t=Gs;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:es(t.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(e){Su(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Gs=e;break}Gs=t.return}g=Zs,Zs=!1}(e,n),go(n,e),hr(ea),Qt=!!Zr,ea=Zr=null,e.current=n,yo(n,e,a),Ye(),jo=o,vt=s,Eo.transition=l}else e.current=n;if(Ho&&(Ho=!1,Vo=e,Wo=a),0===(l=e.pendingLanes)&&($o=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),nu(e,Ge()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((a=t[n]).value,{componentStack:a.stack,digest:a.digest});if(Qo)throw Qo=!1,e=qo,qo=null,e;!!(1&Wo)&&0!==e.tag&&ku(),1&(l=e.pendingLanes)?e===Go?Yo++:(Yo=0,Go=e):Yo=0,Ba()}(e,t,n,r)}finally{Eo.transition=a,vt=r}return null}function ku(){if(null!==Vo){var e=bt(Wo),t=Eo.transition,n=vt;try{if(Eo.transition=null,vt=16>e?16:e,null===Vo)var r=!1;else{if(e=Vo,Vo=null,Wo=0,6&jo)throw Error(i(331));var a=jo;for(jo|=4,Gs=e.current;null!==Gs;){var l=Gs,s=l.child;if(16&Gs.flags){var o=l.deletions;if(null!==o){for(var u=0;u<o.length;u++){var c=o[u];for(Gs=c;null!==Gs;){var d=Gs;switch(d.tag){case 0:case 11:case 15:eo(8,d,l)}var f=d.child;if(null!==f)f.return=d,Gs=f;else for(;null!==Gs;){var h=(d=Gs).sibling,p=d.return;if(ro(d),d===c){Gs=null;break}if(null!==h){h.return=p,Gs=h;break}Gs=p}}}var g=l.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Gs=l}}if(2064&l.subtreeFlags&&null!==s)s.return=l,Gs=s;else e:for(;null!==Gs;){if(2048&(l=Gs).flags)switch(l.tag){case 0:case 11:case 15:eo(9,l,l.return)}var v=l.sibling;if(null!==v){v.return=l.return,Gs=v;break e}Gs=l.return}}var b=e.current;for(Gs=b;null!==Gs;){var w=(s=Gs).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,Gs=w;else e:for(s=b;null!==Gs;){if(2048&(o=Gs).flags)try{switch(o.tag){case 0:case 11:case 15:to(9,o)}}catch(e){Su(o,o.return,e)}if(o===s){Gs=null;break e}var k=o.sibling;if(null!==k){k.return=o.return,Gs=k;break e}Gs=o.return}}if(jo=a,Ba(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(e){}r=!0}return r}finally{vt=n,Eo.transition=t}}return!1}function xu(e,t,n){e=Mi(e,t=ds(0,t=ss(n,t),1),1),t=Zo(),null!==e&&(mt(e,1,t),nu(e,t))}function Su(e,t,n){if(3===e.tag)xu(e,e,n);else for(;null!==t;){if(3===t.tag){xu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===$o||!$o.has(r))){t=Mi(t,e=fs(t,e=ss(n,e),1),1),e=Zo(),null!==t&&(mt(t,1,e),nu(t,e));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zo(),e.pingedLanes|=e.suspendedLanes&n,Po===e&&(To&n)===n&&(4===Ro||3===Ro&&(130023424&To)===To&&500>Ge()-Ko?du(e,0):Io|=n),nu(e,t)}function Cu(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=Zo();null!==(e=Ri(e,t))&&(mt(e,t,n),nu(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function ju(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cu(e,n)}function Pu(e,t){return He(e,t)}function Nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,n,r){return new Nu(e,t,n,r)}function zu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Au(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,a,l){var s=2;if(r=e,"function"==typeof e)zu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case S:return Ou(n.children,a,l,t);case _:s=8,a|=8;break;case C:return(e=Tu(12,n,t,2|a)).elementType=C,e.lanes=l,e;case N:return(e=Tu(13,n,t,a)).elementType=N,e.lanes=l,e;case T:return(e=Tu(19,n,t,a)).elementType=T,e.lanes=l,e;case R:return Du(n,a,l,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case j:s=9;break e;case P:s=11;break e;case z:s=14;break e;case A:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Tu(s,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Ou(e,t,n,r){return(e=Tu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Tu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Tu(6,e,null,t)).lanes=n,e}function Iu(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,a,i,l,s,o){return e=new Mu(e,t,n,s,o),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Tu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Ku(e){if(!e)return Ea;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(za(n))return Oa(e,n,t)}return t}function Bu(e,t,n,r,a,i,l,s,o){return(e=Fu(n,r,!0,e,0,i,0,s,o)).context=Ku(null),n=e.current,(i=Ii(r=Zo(),a=eu(n))).callback=null!=t?t:null,Mi(n,i,a),e.current.lanes=a,mt(e,a,r),nu(e,r),e}function Uu(e,t,n,r){var a=t.current,i=Zo(),l=eu(a);return n=Ku(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ii(i,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mi(a,t,l))&&(tu(e,a,l,i),Fi(e,a,l)),l}function Qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}xo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)ys=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return ys=!1,function(e,t,n){switch(t.tag){case 3:js(t),fi();break;case 5:Gi(t);break;case 1:za(t.type)&&Da(t);break;case 4:Wi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(ki,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(Ji,1&Ji.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(Ca(Ji,1&Ji.current),null!==(e=Us(e,t,n))?e.sibling:null);Ca(Ji,1&Ji.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Ks(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(Ji,Ji.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Us(e,t,n)}(e,t,n);ys=!!(131072&e.flags)}else ys=!1,ri&&1048576&t.flags&&Ja(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var a=Ta(t,ja.current);Pi(t,n),a=pl(null,t,r,e,a,n);var l=gl();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,za(r)?(l=!0,Da(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Di(t),a.updater=ns,t.stateNode=a,a._reactInternals=t,ls(t,r,e,n),t=Es(null,t,r,!0,l,n)):(t.tag=0,ri&&l&&Za(t),vs(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"==typeof e)return zu(e)?1:0;if(null!=e){if((e=e.$$typeof)===P)return 11;if(e===z)return 14}return 2}(r),e=es(r,e),a){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=bs(null,t,r,e,n);break e;case 14:t=ws(null,t,r,es(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,_s(e,t,r,a=t.elementType===r?a:es(r,a),n);case 1:return r=t.type,a=t.pendingProps,Cs(e,t,r,a=t.elementType===r?a:es(r,a),n);case 3:e:{if(js(t),null===e)throw Error(i(387));r=t.pendingProps,a=(l=t.memoizedState).element,Li(e,t),Bi(t,r,null,n);var s=t.memoizedState;if(r=s.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ps(e,t,r,n,a=ss(Error(i(423)),t));break e}if(r!==a){t=Ps(e,t,r,n,a=ss(Error(i(424)),t));break e}for(ni=oa(t.stateNode.containerInfo.firstChild),ti=t,ri=!0,ai=null,n=wi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===a){t=Us(e,t,n);break e}vs(e,t,r,n)}t=t.child}return t;case 5:return Gi(t),null===e&&oi(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,s=a.children,ta(r,a)?s=null:null!==l&&ta(r,l)&&(t.flags|=32),Ss(e,t),vs(e,t,s,n),t.child;case 6:return null===e&&oi(t),null;case 13:return Ds(e,t,n);case 4:return Wi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bi(t,null,r,n):vs(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,bs(e,t,r,a=t.elementType===r?a:es(r,a),n);case 7:return vs(e,t,t.pendingProps,n),t.child;case 8:case 12:return vs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,s=a.value,Ca(ki,r._currentValue),r._currentValue=s,null!==l)if(lr(l.value,s)){if(l.children===a.children&&!Pa.current){t=Us(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){s=l.child;for(var u=o.firstContext;null!==u;){if(u.context===r){if(1===l.tag){(u=Ii(-1,n&-n)).tag=2;var c=l.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ji(l.return,n,t),o.lanes|=n;break}u=u.next}}else if(10===l.tag)s=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(s=l.return))throw Error(i(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),ji(s,n,t),s=l.sibling}else s=l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}vs(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Pi(t,n),r=r(a=Ni(a)),t.flags|=1,vs(e,t,r,n),t.child;case 14:return a=es(r=t.type,t.pendingProps),ws(e,t,r,a=es(r.type,a),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:es(r,a),Bs(e,t),t.tag=1,za(r)?(e=!0,Da(t)):e=!1,Pi(t,n),as(t,r,a),ls(t,r,a,n),Es(null,t,r,!0,e,n);case 19:return Ks(e,t,n);case 22:return xs(e,t,n)}throw Error(i(156,t.tag))};var Hu="function"==typeof reportError?reportError:function(e){console.error(e)};function Vu(e){this._internalRoot=e}function Wu(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Gu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Ju(e,t,n,r,a){var i=n._reactRootContainer;if(i){var l=i;if("function"==typeof a){var s=a;a=function(){var e=Qu(l);s.call(e)}}Uu(t,l,e,a)}else l=function(e,t,n,r,a){if(a){if("function"==typeof r){var i=r;r=function(){var e=Qu(l);i.call(e)}}var l=Bu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=l,e[ha]=l.current,Br(8===e.nodeType?e.parentNode:e),uu(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"==typeof r){var s=r;r=function(){var e=Qu(o);s.call(e)}}var o=Fu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=o,e[ha]=o.current,Br(8===e.nodeType?e.parentNode:e),uu(function(){Uu(t,o,n,r)}),o}(n,t,e,a,r);return Qu(l)}Wu.prototype.render=Vu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Uu(e,t,null,null)},Wu.prototype.unmount=Vu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu(function(){Uu(null,e,null,null)}),t[ha]=null}},Wu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(yt(t,1|n),nu(t,Ge()),!(6&jo)&&(Bo=Ge()+500,Ba()))}break;case 13:uu(function(){var t=Ri(e,1);if(null!==t){var n=Zo();tu(t,e,1,n)}}),$u(e,1)}},kt=function(e){if(13===e.tag){var t=Ri(e,134217728);null!==t&&tu(t,e,134217728,Zo()),$u(e,134217728)}},xt=function(e){if(13===e.tag){var t=eu(e),n=Ri(e,t);null!==n&&tu(n,e,t,Zo()),$u(e,t)}},St=function(){return vt},_t=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));V(r),J(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=ou,Pe=uu;var Zu={usingClientEntryPoint:!1,Events:[va,ba,wa,Ce,Ee,ou]},ec={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tc={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{rt=nc.inject(tc),at=nc}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(i(299));var n=!1,r="",a=Hu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Br(8===e.nodeType?e.parentNode:e),new Vu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uu(e)},t.hydrate=function(e,t,n){if(!Gu(t))throw Error(i(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,l="",s=Hu;if(null!=n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,a,0,l,s),e[ha]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Wu(t)},t.render=function(e,t,n){if(!Gu(t))throw Error(i(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(i(40));return!!e._reactRootContainer&&(uu(function(){Ju(null,null,e,!1,function(){e._reactRootContainer=null,e[ha]=null})}),!0)},t.unstable_batchedUpdates=ou,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Gu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Ju(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},848:(e,t,n)=>{e.exports=n(20)},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},982:(e,t,n)=>{e.exports=n(463)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}var r=n(848),a=n(540),i=n(338);class l{constructor(){this.storageKey="learnsphere_settings",this.changeListeners=[],this.settings=this.getDefaultSettings(),this.loadSettings(),this.setupSystemThemeListener()}setupSystemThemeListener(){if("undefined"!=typeof window&&window.matchMedia){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>{"auto"===this.settings.theme&&this.applySettingsToPage()};e.addEventListener?e.addEventListener("change",t):e.addListener(t)}}static getInstance(){return l.instance||(l.instance=new l),l.instance}addChangeListener(e){this.changeListeners.push(e)}removeChangeListener(e){const t=this.changeListeners.indexOf(e);t>-1&&this.changeListeners.splice(t,1)}notifyListeners(){this.changeListeners.forEach(e=>{try{e(this.settings)}catch(e){console.error("Error in settings change listener:",e)}})}applySettingsToPage(){try{this.applyTheme(),this.applyAccessibilitySettings(),this.applyChatSidebarSettings(),this.notifyListeners()}catch(e){console.error("Error applying settings to page:",e)}}applyTheme(){const e=this.getThemeSettings(),t=document.documentElement;t.classList.remove("learnsphere-light","learnsphere-dark"),e.isDark?t.classList.add("learnsphere-dark"):t.classList.add("learnsphere-light"),t.style.setProperty("--learnsphere-bg-color",e.backgroundColor),t.style.setProperty("--learnsphere-text-color",e.textColor)}applyAccessibilitySettings(){const e=document.documentElement,t=this.settings.accessibilityOptions;t.highContrast?e.classList.add("learnsphere-high-contrast"):e.classList.remove("learnsphere-high-contrast"),t.largeText?e.classList.add("learnsphere-large-text"):e.classList.remove("learnsphere-large-text"),t.reduceMotion?e.classList.add("learnsphere-reduce-motion"):e.classList.remove("learnsphere-reduce-motion")}applyChatSidebarSettings(){const e=document.getElementById("learnsphere-sidebar");if(e){const t=this.getChatSidebarConfig();"left"===t.position?(e.style.left="0",e.style.right="auto"):(e.style.right="0",e.style.left="auto"),e.style.width=`${t.width}px`}}getAllSettings(){return{...this.settings}}updateSettings(e){this.settings={...this.settings,...e},this.saveSettings()}getDefaultSettings(){return{geminiApiKey:"",theme:"auto",chatSidebarPosition:"right",chatSidebarWidth:400,autoSaveHighlights:!0,enableNotifications:!0,language:"en",maxTokens:2048,temperature:.7,autoOpenChat:!1,highlightColors:["#ffeb3b","#4caf50","#2196f3","#f44336","#9c27b0"],defaultQuizDifficulty:"medium",defaultQuizQuestionCount:10,enableQuizHints:!0,enableQuizExplanations:!0,autoSaveQuizResults:!0,enableLearningAnalytics:!0,dataRetentionDays:365,enableCloudSync:!1,privacyMode:!1,accessibilityOptions:{highContrast:!1,largeText:!1,reduceMotion:!1}}}async loadSettings(){try{console.log("LearnSphere SettingsService: Loading settings from storage...");const e=await chrome.storage.sync.get(this.storageKey);console.log("LearnSphere SettingsService: Storage result:",e),e[this.storageKey]?(console.log("LearnSphere SettingsService: Found saved settings:",e[this.storageKey]),this.settings={...this.settings,...e[this.storageKey]}):console.log("LearnSphere SettingsService: No saved settings found, using defaults"),await this.migrateLegacySettings(),console.log("LearnSphere SettingsService: Final settings:",this.settings)}catch(e){console.warn("Failed to load settings from storage:",e)}}async reloadSettings(){await this.loadSettings()}async migrateLegacySettings(){try{const e=await chrome.storage.sync.get(["settings"]);if(e.settings){console.log("LearnSphere: Migrating legacy settings format");const t=e.settings,n={};t.aiModel&&console.log("LearnSphere: Legacy aiModel setting found, migrating other settings"),t.theme&&(n.theme=t.theme),t.language&&(n.language=t.language),void 0!==t.autoSave&&(n.autoSaveHighlights=t.autoSave),void 0!==t.cloudSync&&(n.enableCloudSync=t.cloudSync),void 0!==t.notifications&&(n.enableNotifications=t.notifications),Object.keys(n).length>0&&(this.settings={...this.settings,...n},await this.saveSettings(),await chrome.storage.sync.remove(["settings"]),console.log("LearnSphere: Legacy settings migrated and cleaned up"))}}catch(e){console.warn("Failed to migrate legacy settings:",e)}}async saveSettings(){try{console.log("LearnSphere SettingsService: Saving settings to storage:",this.settings),await chrome.storage.sync.set({[this.storageKey]:this.settings}),console.log("LearnSphere SettingsService: Settings saved successfully"),this.applySettingsToPage()}catch(e){console.error("Failed to save settings to storage:",e)}}get(e){return this.settings[e]}async set(e,t){this.settings[e]=t,await this.saveSettings()}getAll(){return{...this.settings}}async update(e){this.settings={...this.settings,...e},await this.saveSettings()}async reset(){this.settings=this.getDefaultSettings(),await this.saveSettings()}hasGeminiApiKey(){return!!this.settings.geminiApiKey&&this.settings.geminiApiKey.trim().length>0}getGeminiApiKey(){return this.settings.geminiApiKey}async setGeminiApiKey(e){await this.set("geminiApiKey",e)}exportSettings(){return JSON.stringify(this.settings,null,2)}async importSettings(e){try{const t=JSON.parse(e);this.settings={...this.getDefaultSettings(),...t},await this.saveSettings()}catch(e){throw new Error("Invalid settings format")}}validateApiKey(e){return e.length>0&&e.includes("AIza")}async testApiKey(e){try{const t=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{role:"user",parts:[{text:"Hello"}]}],generationConfig:{temperature:.1,topK:1,topP:.1,maxOutputTokens:10}})});if(t.ok)return{valid:!0};{const e=await t.json();return{valid:!1,error:e.error?.message||`HTTP ${t.status}: ${t.statusText}`}}}catch(e){return{valid:!1,error:e instanceof Error?e.message:"Network error"}}}getThemeSettings(){const e="dark"===this.settings.theme;return{isDark:e,backgroundColor:e?"#1a1a1a":"#ffffff",textColor:e?"#ffffff":"#000000"}}getChatSidebarConfig(){return{position:this.settings.chatSidebarPosition,width:this.settings.chatSidebarWidth}}getAIConfig(){return{maxTokens:this.settings.maxTokens,temperature:this.settings.temperature}}getQuizConfig(){return{defaultDifficulty:this.settings.defaultQuizDifficulty,defaultQuestionCount:this.settings.defaultQuizQuestionCount,enableHints:this.settings.enableQuizHints,enableExplanations:this.settings.enableQuizExplanations,autoSaveResults:this.settings.autoSaveQuizResults}}getAccessibilityConfig(){return this.settings.accessibilityOptions}getPrivacyConfig(){return{enableLearningAnalytics:this.settings.enableLearningAnalytics,dataRetentionDays:this.settings.dataRetentionDays,enableCloudSync:this.settings.enableCloudSync,privacyMode:this.settings.privacyMode}}getHighlightConfig(){return{colors:this.settings.highlightColors,autoSave:this.settings.autoSaveHighlights}}getChatConfig(){return{position:this.settings.chatSidebarPosition,width:this.settings.chatSidebarWidth,autoOpen:this.settings.autoOpenChat}}getSystemTheme(){return"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}getEffectiveTheme(){return"auto"===this.settings.theme?this.getSystemTheme():this.settings.theme}async resetCategory(e){const t=this.getDefaultSettings();switch(e){case"ai":await this.update({maxTokens:t.maxTokens,temperature:t.temperature});break;case"quiz":await this.update({defaultQuizDifficulty:t.defaultQuizDifficulty,defaultQuizQuestionCount:t.defaultQuizQuestionCount,enableQuizHints:t.enableQuizHints,enableQuizExplanations:t.enableQuizExplanations,autoSaveQuizResults:t.autoSaveQuizResults});break;case"chat":await this.update({chatSidebarPosition:t.chatSidebarPosition,chatSidebarWidth:t.chatSidebarWidth,autoOpenChat:t.autoOpenChat});break;case"privacy":await this.update({enableLearningAnalytics:t.enableLearningAnalytics,dataRetentionDays:t.dataRetentionDays,enableCloudSync:t.enableCloudSync,privacyMode:t.privacyMode});break;case"accessibility":await this.update({accessibilityOptions:t.accessibilityOptions})}}async clearUserData(){try{await chrome.storage.local.clear(),await chrome.storage.sync.clear(),this.settings=this.getDefaultSettings(),await this.saveSettings()}catch(e){throw console.error("Failed to clear user data:",e),new Error("Failed to clear user data")}}async getDataUsage(){try{const t=await chrome.storage.local.get(null),n=await chrome.storage.sync.get(null),r=JSON.stringify(t).length,a=JSON.stringify(n).length;return{localStorageSize:r,syncStorageSize:a,estimatedSize:(e=r+a,e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`)}}catch(e){return console.error("Failed to get data usage:",e),{localStorageSize:0,syncStorageSize:0,estimatedSize:"0 B"}}var e}async exportAllUserData(){try{const[e,t]=await Promise.all([chrome.storage.local.get(null),chrome.storage.sync.get(null)]),n={version:"1.0.0",exportDate:(new Date).toISOString(),settings:this.settings,highlights:e.highlights||[],quizResults:e.quizResults||[],chatHistory:e.chatHistory||[],learningAnalytics:e.learning_analytics||{},documentData:Object.keys(e).filter(e=>e.startsWith("document_")).reduce((t,n)=>(t[n]=e[n],t),{})};return JSON.stringify(n,null,2)}catch(e){throw console.error("Failed to export user data:",e),new Error("Failed to export user data")}}async importAllUserData(e){try{const t=JSON.parse(e);if(!t.version||!t.settings)throw new Error("Invalid import data format");t.settings&&(this.settings={...this.getDefaultSettings(),...t.settings},await this.saveSettings());const n={};t.highlights&&(n.highlights=t.highlights),t.quizResults&&(n.quizResults=t.quizResults),t.chatHistory&&(n.chatHistory=t.chatHistory),t.learningAnalytics&&(n.learning_analytics=t.learningAnalytics),t.documentData&&Object.assign(n,t.documentData),Object.keys(n).length>0&&await chrome.storage.local.set(n),console.log("LearnSphere: User data imported successfully")}catch(e){throw console.error("Failed to import user data:",e),new Error("Failed to import user data: "+(e instanceof Error?e.message:"Unknown error"))}}validateSettings(){const e=[];return this.settings.geminiApiKey&&!this.validateApiKey(this.settings.geminiApiKey)&&e.push("Invalid Gemini API key format"),(this.settings.maxTokens<100||this.settings.maxTokens>8192)&&e.push("Max tokens must be between 100 and 8192"),(this.settings.temperature<0||this.settings.temperature>1)&&e.push("Temperature must be between 0 and 1"),(this.settings.chatSidebarWidth<300||this.settings.chatSidebarWidth>600)&&e.push("Chat sidebar width must be between 300 and 600 pixels"),(this.settings.defaultQuizQuestionCount<1||this.settings.defaultQuizQuestionCount>50)&&e.push("Default quiz question count must be between 1 and 50"),(this.settings.dataRetentionDays<0||this.settings.dataRetentionDays>3650)&&e.push("Data retention days must be between 0 and 3650 (10 years)"),Array.isArray(this.settings.highlightColors)&&0!==this.settings.highlightColors.length||e.push("At least one highlight color must be specified"),["en","es","fr","de","zh","ja"].includes(this.settings.language)||e.push("Invalid language code"),{valid:0===e.length,errors:e}}getSettingsSummary(){const e=[],t=[];return this.settings.geminiApiKey||e.push("Gemini API Key not configured"),this.settings.enableCloudSync&&!this.settings.geminiApiKey&&t.push("Cloud sync enabled but API key not configured"),this.settings.privacyMode&&this.settings.enableLearningAnalytics&&t.push("Privacy mode enabled but learning analytics still active"),{totalSettings:Object.keys(this.settings).length,configuredSettings:Object.values(this.settings).filter(e=>""!==e&&null!=e).length,criticalSettings:e,warnings:t}}}const s=({onClose:e})=>{const[t]=(0,a.useState)(()=>l.getInstance()),[n,i]=(0,a.useState)(t.getAll()),[s,o]=(0,a.useState)("general"),[u,c]=(0,a.useState)(null),[d,f]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),[g,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{y(),v()},[]);const y=async()=>{try{const e=await t.getDataUsage();c(e)}catch(e){console.error("Failed to load data usage:",e)}},v=async()=>{try{const e=t.getSettingsSummary();try{if(!e.criticalSettings||e.criticalSettings.length>0){const t=await chrome.storage.sync.get("learnsphere_settings"),n=await chrome.storage.local.get("learnsphere_settings");(t?.learnsphere_settings?.geminiApiKey||n?.learnsphere_settings?.geminiApiKey)&&Array.isArray(e.criticalSettings)&&(e.criticalSettings=e.criticalSettings.filter(e=>!e.includes("Gemini API Key")))}}catch{}m(e)}catch(e){console.error("Failed to load settings summary:",e)}},b=async(e,r)=>{try{await t.set(e,r),i({...n,[e]:r}),v(),p("Setting updated successfully"),setTimeout(()=>p(""),3e3)}catch(e){p("Failed to update setting"),setTimeout(()=>p(""),3e3)}},w=async(e,t)=>{const r={...n.accessibilityOptions,[e]:t};await b("accessibilityOptions",r),v()},k=async e=>{try{f(!0),await t.resetCategory(e),i(t.getAll()),p(`${e} settings reset to defaults`),setTimeout(()=>p(""),3e3)}catch(e){p("Failed to reset settings"),setTimeout(()=>p(""),3e3)}finally{f(!1)}},x=async()=>{if(window.confirm("Are you sure you want to clear all user data? This action cannot be undone."))try{f(!0),await t.clearUserData(),i(t.getAll()),p("All user data cleared successfully"),setTimeout(()=>p(""),3e3),await y()}catch(e){p("Failed to clear user data"),setTimeout(()=>p(""),3e3)}finally{f(!1)}};return(0,r.jsxs)("div",{className:"settings-page",children:[(0,r.jsxs)("div",{className:"settings-header",children:[(0,r.jsx)("h1",{children:"LearnSphere Settings"}),(0,r.jsx)("button",{className:"close-button",onClick:e,children:""})]}),(0,r.jsxs)("div",{className:"settings-content",children:[(0,r.jsx)("div",{className:"settings-sidebar",children:[{id:"general",label:"General",icon:""},{id:"ai",label:"AI Settings",icon:""},{id:"quiz",label:"Quiz Settings",icon:""},{id:"chat",label:"Chat Settings",icon:""},{id:"privacy",label:"Privacy & Data",icon:""},{id:"accessibility",label:"Accessibility",icon:""},{id:"highlights",label:"Highlights",icon:""},{id:"knowledge",label:"Knowledge",icon:""}].map(e=>(0,r.jsxs)("button",{className:"tab-button "+(s===e.id?"active":""),onClick:()=>o(e.id),children:[(0,r.jsx)("span",{className:"tab-icon",children:e.icon}),e.label]},e.id))}),(0,r.jsx)("div",{className:"settings-main",children:(()=>{switch(s){case"general":default:return(0,r.jsxs)("div",{className:"settings-tab",children:[(0,r.jsx)("h3",{children:"General Settings"}),g&&(0,r.jsxs)("div",{className:"settings-summary",children:[(0,r.jsx)("h4",{children:"Settings Overview"}),(0,r.jsxs)("div",{className:"summary-stats",children:[(0,r.jsxs)("div",{className:"stat-item",children:[(0,r.jsx)("span",{className:"stat-label",children:"Configured:"}),(0,r.jsxs)("span",{className:"stat-value",children:[g.configuredSettings,"/",g.totalSettings]})]}),g.criticalSettings.length>0&&(0,r.jsxs)("div",{className:"critical-warnings",children:[(0,r.jsx)("span",{className:"warning-icon",children:""}),(0,r.jsx)("span",{className:"warning-text",children:"Critical settings missing"})]}),g.warnings.length>0&&(0,r.jsxs)("div",{className:"warnings",children:[(0,r.jsx)("span",{className:"warning-icon",children:""}),(0,r.jsxs)("span",{className:"warning-text",children:[g.warnings.length," warning(s)"]})]})]})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Theme"}),(0,r.jsxs)("select",{value:n.theme,onChange:e=>b("theme",e.target.value),children:[(0,r.jsx)("option",{value:"light",children:"Light"}),(0,r.jsx)("option",{value:"dark",children:"Dark"}),(0,r.jsx)("option",{value:"auto",children:"Auto (System)"})]}),(0,r.jsx)("p",{className:"setting-description",children:"Choose your preferred theme"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Language"}),(0,r.jsxs)("select",{value:n.language,onChange:e=>b("language",e.target.value),children:[(0,r.jsx)("option",{value:"en",children:"English"}),(0,r.jsx)("option",{value:"es",children:"Espaol"}),(0,r.jsx)("option",{value:"fr",children:"Franais"}),(0,r.jsx)("option",{value:"de",children:"Deutsch"}),(0,r.jsx)("option",{value:"zh",children:""}),(0,r.jsx)("option",{value:"ja",children:""})]}),(0,r.jsx)("p",{className:"setting-description",children:"Select your preferred language"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.enableNotifications,onChange:e=>b("enableNotifications",e.target.checked)}),"Enable Notifications"]}),(0,r.jsx)("p",{className:"setting-description",children:"Show notifications for important events"})]})]});case"ai":return(0,r.jsxs)("div",{className:"settings-tab",children:[(0,r.jsx)("h3",{children:"AI Configuration"}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Gemini API Key"}),(0,r.jsxs)("div",{className:"api-key-input-group",children:[(0,r.jsx)("input",{type:"password",value:n.geminiApiKey,onChange:e=>b("geminiApiKey",e.target.value),placeholder:"Enter your Gemini API key"}),(0,r.jsx)("button",{className:"test-api-button",onClick:async()=>{if(n.geminiApiKey){f(!0);try{const e=await t.testApiKey(n.geminiApiKey);e.valid?p("API key is valid!"):p(`API key test failed: ${e.error}`)}catch(e){p("Failed to test API key")}finally{f(!1),setTimeout(()=>p(""),5e3)}}},disabled:!n.geminiApiKey||d,children:"Test"})]}),(0,r.jsxs)("p",{className:"setting-description",children:["Get your API key from"," ",(0,r.jsx)("a",{href:"https://makersuite.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",children:"Google AI Studio"})]})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Max Tokens"}),(0,r.jsx)("input",{type:"number",value:n.maxTokens,onChange:e=>b("maxTokens",parseInt(e.target.value)),min:"100",max:"8192",step:"100"}),(0,r.jsx)("p",{className:"setting-description",children:"Maximum tokens for AI responses (100-8192)"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Temperature"}),(0,r.jsx)("input",{type:"range",value:n.temperature,onChange:e=>b("temperature",parseFloat(e.target.value)),min:"0",max:"1",step:"0.1"}),(0,r.jsx)("span",{className:"range-value",children:n.temperature}),(0,r.jsx)("p",{className:"setting-description",children:"Controls randomness in AI responses (0 = focused, 1 = creative)"})]}),(0,r.jsx)("button",{className:"reset-button",onClick:()=>k("ai"),disabled:d,children:"Reset AI Settings"})]});case"quiz":return(0,r.jsxs)("div",{className:"settings-tab",children:[(0,r.jsx)("h3",{children:"Quiz Configuration"}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Default Difficulty"}),(0,r.jsxs)("select",{value:n.defaultQuizDifficulty,onChange:e=>b("defaultQuizDifficulty",e.target.value),children:[(0,r.jsx)("option",{value:"easy",children:"Easy"}),(0,r.jsx)("option",{value:"medium",children:"Medium"}),(0,r.jsx)("option",{value:"hard",children:"Hard"})]}),(0,r.jsx)("p",{className:"setting-description",children:"Default difficulty for generated quizzes"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Default Question Count"}),(0,r.jsxs)("select",{value:n.defaultQuizQuestionCount,onChange:e=>b("defaultQuizQuestionCount",parseInt(e.target.value)),children:[(0,r.jsx)("option",{value:"5",children:"5 Questions"}),(0,r.jsx)("option",{value:"10",children:"10 Questions"}),(0,r.jsx)("option",{value:"15",children:"15 Questions"}),(0,r.jsx)("option",{value:"20",children:"20 Questions"})]}),(0,r.jsx)("p",{className:"setting-description",children:"Default number of questions per quiz"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.enableQuizHints,onChange:e=>b("enableQuizHints",e.target.checked)}),"Enable Quiz Hints"]}),(0,r.jsx)("p",{className:"setting-description",children:"Show helpful hints during quizzes"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.enableQuizExplanations,onChange:e=>b("enableQuizExplanations",e.target.checked)}),"Enable Quiz Explanations"]}),(0,r.jsx)("p",{className:"setting-description",children:"Show explanations for correct answers"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.autoSaveQuizResults,onChange:e=>b("autoSaveQuizResults",e.target.checked)}),"Auto-save Quiz Results"]}),(0,r.jsx)("p",{className:"setting-description",children:"Automatically save quiz results for analysis"})]}),(0,r.jsx)("button",{className:"reset-button",onClick:()=>k("quiz"),disabled:d,children:"Reset Quiz Settings"})]});case"chat":return(0,r.jsxs)("div",{className:"settings-tab",children:[(0,r.jsx)("h3",{children:"Chat Sidebar Configuration"}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Sidebar Position"}),(0,r.jsxs)("select",{value:n.chatSidebarPosition,onChange:e=>b("chatSidebarPosition",e.target.value),children:[(0,r.jsx)("option",{value:"left",children:"Left"}),(0,r.jsx)("option",{value:"right",children:"Right"})]}),(0,r.jsx)("p",{className:"setting-description",children:"Choose where the chat sidebar appears"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Sidebar Width"}),(0,r.jsx)("input",{type:"range",value:n.chatSidebarWidth,onChange:e=>b("chatSidebarWidth",parseInt(e.target.value)),min:"300",max:"600",step:"25"}),(0,r.jsxs)("span",{className:"range-value",children:[n.chatSidebarWidth,"px"]}),(0,r.jsx)("p",{className:"setting-description",children:"Adjust the width of the chat sidebar"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.autoOpenChat,onChange:e=>b("autoOpenChat",e.target.checked)}),"Auto-open Chat"]}),(0,r.jsx)("p",{className:"setting-description",children:"Automatically open chat when selecting text"})]}),(0,r.jsx)("button",{className:"reset-button",onClick:()=>k("chat"),disabled:d,children:"Reset Chat Settings"})]});case"privacy":return(0,r.jsxs)("div",{className:"settings-tab",children:[(0,r.jsx)("h3",{children:"Privacy & Data Management"}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.enableLearningAnalytics,onChange:e=>b("enableLearningAnalytics",e.target.checked)}),"Enable Learning Analytics"]}),(0,r.jsx)("p",{className:"setting-description",children:"Track learning progress and performance"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Data Retention Period"}),(0,r.jsxs)("select",{value:n.dataRetentionDays,onChange:e=>b("dataRetentionDays",parseInt(e.target.value)),children:[(0,r.jsx)("option",{value:"30",children:"30 days"}),(0,r.jsx)("option",{value:"90",children:"90 days"}),(0,r.jsx)("option",{value:"180",children:"180 days"}),(0,r.jsx)("option",{value:"365",children:"1 year"}),(0,r.jsx)("option",{value:"0",children:"Keep forever"})]}),(0,r.jsx)("p",{className:"setting-description",children:"How long to keep your learning data"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.enableCloudSync,onChange:e=>b("enableCloudSync",e.target.checked)}),"Enable Cloud Sync"]}),(0,r.jsx)("p",{className:"setting-description",children:"Sync settings across devices (requires Google account)"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.privacyMode,onChange:e=>b("privacyMode",e.target.checked)}),"Privacy Mode"]}),(0,r.jsx)("p",{className:"setting-description",children:"Minimize data collection and storage"})]}),u&&(0,r.jsxs)("div",{className:"data-usage",children:[(0,r.jsx)("h4",{children:"Data Usage"}),(0,r.jsxs)("p",{children:["Local Storage: ",u.estimatedSize]}),(0,r.jsx)("button",{className:"danger-button",onClick:x,disabled:d,children:"Clear All User Data"})]}),(0,r.jsx)("button",{className:"reset-button",onClick:()=>k("privacy"),disabled:d,children:"Reset Privacy Settings"})]});case"accessibility":return(0,r.jsxs)("div",{className:"settings-tab",children:[(0,r.jsx)("h3",{children:"Accessibility Options"}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.accessibilityOptions.highContrast,onChange:e=>w("highContrast",e.target.checked)}),"High Contrast Mode"]}),(0,r.jsx)("p",{className:"setting-description",children:"Increase contrast for better visibility"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.accessibilityOptions.largeText,onChange:e=>w("largeText",e.target.checked)}),"Large Text"]}),(0,r.jsx)("p",{className:"setting-description",children:"Increase text size for better readability"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.accessibilityOptions.reduceMotion,onChange:e=>w("reduceMotion",e.target.checked)}),"Reduce Motion"]}),(0,r.jsx)("p",{className:"setting-description",children:"Minimize animations and transitions"})]}),(0,r.jsx)("button",{className:"reset-button",onClick:()=>k("accessibility"),disabled:d,children:"Reset Accessibility Settings"})]});case"highlights":return(0,r.jsxs)("div",{className:"settings-tab",children:[(0,r.jsx)("h3",{children:"Highlight Configuration"}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"checkbox",checked:n.autoSaveHighlights,onChange:e=>b("autoSaveHighlights",e.target.checked)}),"Auto-save Highlights"]}),(0,r.jsx)("p",{className:"setting-description",children:"Automatically save highlights to storage"})]}),(0,r.jsxs)("div",{className:"setting-group",children:[(0,r.jsx)("label",{children:"Highlight Colors"}),(0,r.jsx)("div",{className:"color-picker",children:n.highlightColors.map((e,t)=>(0,r.jsx)("input",{type:"color",value:e,onChange:e=>{const r=[...n.highlightColors];r[t]=e.target.value,b("highlightColors",r)},title:`Color ${t+1}`},t))}),(0,r.jsx)("p",{className:"setting-description",children:"Customize the colors available for highlighting"})]})]});case"knowledge":return(0,r.jsx)("div",{className:"settings-tab",children:(0,r.jsx)("h3",{children:"Loading"})})}})()})]}),(0,r.jsxs)("div",{className:"settings-footer",children:[(0,r.jsxs)("div",{className:"import-export",children:[(0,r.jsxs)("label",{className:"import-button",children:["Import All Data",(0,r.jsx)("input",{type:"file",accept:".json",onChange:e=>{const n=e.target.files?.[0];if(n){const e=new FileReader;e.onload=async e=>{try{f(!0);const n=e.target?.result;await t.importAllUserData(n),i(t.getAll()),await y(),p("All data imported successfully"),setTimeout(()=>p(""),3e3)}catch(e){p("Failed to import data: "+(e instanceof Error?e.message:"Unknown error")),setTimeout(()=>p(""),5e3)}finally{f(!1)}},e.readAsText(n)}},style:{display:"none"}})]}),(0,r.jsx)("button",{className:"export-button",onClick:async()=>{try{f(!0);const e=await t.exportAllUserData(),n=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(n),a=document.createElement("a");a.href=r,a.download=`learnsphere-data-${(new Date).toISOString().split("T")[0]}.json`,a.click(),URL.revokeObjectURL(r),p("All data exported successfully"),setTimeout(()=>p(""),3e3)}catch(e){p("Failed to export data"),setTimeout(()=>p(""),3e3)}finally{f(!1)}},children:"Export All Data"})]}),(0,r.jsx)("div",{className:"reset-all",children:(0,r.jsx)("button",{className:"reset-all-button",onClick:()=>t.reset(),disabled:d,children:"Reset All Settings"})}),h&&(0,r.jsx)("div",{className:"message "+(h.includes("successfully")?"success":"error"),children:h})]})]})},o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,u=Object.keys,c=Array.isArray;function d(e,t){return"object"!=typeof t||u(t).forEach(function(n){e[n]=t[n]}),e}"undefined"==typeof Promise||o.Promise||(o.Promise=Promise);const f=Object.getPrototypeOf,h={}.hasOwnProperty;function p(e,t){return h.call(e,t)}function g(e,t){"function"==typeof t&&(t=t(f(e))),("undefined"==typeof Reflect?u:Reflect.ownKeys)(t).forEach(n=>{y(e,n,t[n])})}const m=Object.defineProperty;function y(e,t,n,r){m(e,t,d(n&&p(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function v(e){return{from:function(t){return e.prototype=Object.create(t.prototype),y(e.prototype,"constructor",e),{extend:g.bind(null,e.prototype)}}}}const b=Object.getOwnPropertyDescriptor;function w(e,t){let n;return b(e,t)||(n=f(e))&&w(n,t)}const k=[].slice;function x(e,t,n){return k.call(e,t,n)}function S(e,t){return t(e)}function _(e){if(!e)throw new Error("Assertion Failed")}function C(e){o.setImmediate?setImmediate(e):setTimeout(e,0)}function E(e,t){return e.reduce((e,n,r)=>{var a=t(n,r);return a&&(e[a[0]]=a[1]),e},{})}function j(e,t){if("string"==typeof t&&p(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,a=t.length;r<a;++r){var i=j(e,t[r]);n.push(i)}return n}var l=t.indexOf(".");if(-1!==l){var s=e[t.substr(0,l)];return null==s?void 0:j(s,t.substr(l+1))}}function P(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){_("string"!=typeof n&&"length"in n);for(var r=0,a=t.length;r<a;++r)P(e,t[r],n[r])}else{var i=t.indexOf(".");if(-1!==i){var l=t.substr(0,i),s=t.substr(i+1);if(""===s)void 0===n?c(e)&&!isNaN(parseInt(l))?e.splice(l,1):delete e[l]:e[l]=n;else{var o=e[l];o&&p(e,l)||(o=e[l]={}),P(o,s,n)}}else void 0===n?c(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function N(e){var t={};for(var n in e)p(e,n)&&(t[n]=e[n]);return t}const T=[].concat;function z(e){return T.apply([],e)}const A="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(z([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>o[e]),R=A.map(e=>o[e]);E(A,e=>[e,!0]);let O=null;function D(e){O="undefined"!=typeof WeakMap&&new WeakMap;const t=L(e);return O=null,t}function L(e){if(!e||"object"!=typeof e)return e;let t=O&&O.get(e);if(t)return t;if(c(e)){t=[],O&&O.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(L(e[n]))}else if(R.indexOf(e.constructor)>=0)t=e;else{const n=f(e);for(var a in t=n===Object.prototype?{}:Object.create(n),O&&O.set(e,t),e)p(e,a)&&(t[a]=L(e[a]))}return t}const{toString:I}={};function M(e){return I.call(e).slice(8,-1)}const F="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",K="symbol"==typeof F?function(e){var t;return null!=e&&(t=e[F])&&t.apply(e)}:function(){return null},B={};function U(e){var t,n,r,a;if(1===arguments.length){if(c(e))return e.slice();if(this===B&&"string"==typeof e)return[e];if(a=K(e)){for(n=[];!(r=a.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"==typeof(t=e.length)){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}const Q="undefined"!=typeof Symbol?e=>"AsyncFunction"===e[Symbol.toStringTag]:()=>!1;var q="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function $(e,t){q=e,H=t}var H=()=>!0;const V=!new Error("").stack;function W(){if(V)try{throw W.arguments,new Error}catch(e){return e}return new Error}function Y(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split("\n").length),n.split("\n").slice(t).filter(H).map(e=>"\n"+e).join("")):""}var G=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],X=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(G),J={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Z(e,t){this._e=W(),this.name=e,this.message=t}function ee(e,t){return e+". Errors: "+Object.keys(t).map(e=>t[e].toString()).filter((e,t,n)=>n.indexOf(e)===t).join("\n")}function te(e,t,n,r){this._e=W(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=ee(e,t)}function ne(e,t){this._e=W(),this.name="BulkError",this.failures=Object.keys(t).map(e=>t[e]),this.failuresByPos=t,this.message=ee(e,t)}v(Z).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Y(this._e,2))}},toString:function(){return this.name+": "+this.message}}),v(te).from(Z),v(ne).from(Z);var re=X.reduce((e,t)=>(e[t]=t+"Error",e),{});const ae=Z;var ie=X.reduce((e,t)=>{var n=t+"Error";function r(e,r){this._e=W(),this.name=n,e?"string"==typeof e?(this.message=`${e}${r?"\n "+r:""}`,this.inner=r||null):"object"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=J[t]||n,this.inner=null)}return v(r).from(ae),e[t]=r,e},{});ie.Syntax=SyntaxError,ie.Type=TypeError,ie.Range=RangeError;var le=G.reduce((e,t)=>(e[t+"Error"]=ie[t],e),{}),se=X.reduce((e,t)=>(-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=ie[t]),e),{});function oe(){}function ue(e){return e}function ce(e,t){return null==e||e===ue?t:function(n){return t(e(n))}}function de(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function fe(e,t){return e===oe?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?de(r,this.onsuccess):r),a&&(this.onerror=this.onerror?de(a,this.onerror):a),void 0!==i?i:n}}function he(e,t){return e===oe?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?de(n,this.onsuccess):n),r&&(this.onerror=this.onerror?de(r,this.onerror):r)}}function pe(e,t){return e===oe?t:function(n){var r=e.apply(this,arguments);d(n,r);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var l=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?de(a,this.onsuccess):a),i&&(this.onerror=this.onerror?de(i,this.onerror):i),void 0===r?void 0===l?void 0:l:d(r,l)}}function ge(e,t){return e===oe?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function me(e,t){return e===oe?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,a=arguments.length,i=new Array(a);a--;)i[a]=arguments[a];return n.then(function(){return t.apply(r,i)})}return t.apply(this,arguments)}}se.ModifyError=te,se.DexieError=Z,se.BulkError=ne;var ye={};const[ve,be,we]="undefined"==typeof Promise?[]:(()=>{let e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,f(e),e];const t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,f(t),e]})(),ke=be&&be.then,xe=ve&&ve.constructor,Se=!!we;var _e=!1,Ce=we?()=>{we.then(We)}:o.setImmediate?setImmediate.bind(null,We):o.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{We(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(We,0)},Ee=function(e,t){De.push([e,t]),Pe&&(Ce(),Pe=!1)},je=!0,Pe=!0,Ne=[],Te=[],ze=null,Ae=ue,Re={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:bt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{bt(e[0],e[1])}catch(e){}})}},Oe=Re,De=[],Le=0,Ie=[];function Me(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=oe,this._lib=!1;var t=this._PSD=Oe;if(q&&(this._stackHolder=W(),this._prev=null,this._numPrev=0),"function"!=typeof e){if(e!==ye)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ue(this,this._value))}this._state=null,this._value=null,++t.ref,Be(this,e)}const Fe={get:function(){var e=Oe,t=at;function n(n,r){var a=!e.global&&(e!==Oe||t!==at);const i=a&&!ot();var l=new Me((t,l)=>{qe(this,new Ke(mt(n,e,a,i),mt(r,e,a,i),t,l,e))});return q&&Ve(l,this),l}return n.prototype=ye,n},set:function(e){y(this,"then",e&&e.prototype===ye?Fe:{get:function(){return e},set:Fe.set})}};function Ke(e,t,n,r,a){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=a}function Be(e,t){try{t(t=>{if(null===e._state){if(t===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Ye();t&&"function"==typeof t.then?Be(e,(e,n)=>{t instanceof Me?t._then(e,n):t.then(e,n)}):(e._state=!0,e._value=t,Qe(e)),n&&Ge()}},Ue.bind(null,e))}catch(t){Ue(e,t)}}function Ue(e,t){if(Te.push(t),null===e._state){var n=e._lib&&Ye();t=Ae(t),e._state=!1,e._value=t,q&&null!==t&&"object"==typeof t&&!t._promise&&function(e){try{e.apply(null,void 0)}catch(e){}}(()=>{var n=w(t,"stack");t._promise=e,y(t,"stack",{get:()=>_e?n&&(n.get?n.get.apply(t):n.value):e.stack})}),function(e){Ne.some(t=>t._value===e._value)||Ne.push(e)}(e),Qe(e),n&&Ge()}}function Qe(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)qe(e,t[n]);var a=e._PSD;--a.ref||a.finalize(),0===Le&&(++Le,Ee(()=>{0==--Le&&Xe()},[]))}function qe(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Le,Ee($e,[n,e,t])}else e._listeners.push(t)}function $e(e,t,n){try{ze=t;var r,a=t._value;t._state?r=e(a):(Te.length&&(Te=[]),r=e(a),-1===Te.indexOf(a)&&function(e){for(var t=Ne.length;t;)if(Ne[--t]._value===e._value)return void Ne.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{ze=null,0==--Le&&Xe(),--n.psd.ref||n.psd.finalize()}}function He(e,t,n){if(t.length===n)return t;var r="";if(!1===e._state){var a,i,l=e._value;null!=l?(a=l.name||"Error",i=l.message||l,r=Y(l,0)):(a=l,i=""),t.push(a+(i?": "+i:"")+r)}return q&&((r=Y(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&He(e._prev,t,n)),t}function Ve(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function We(){Ye()&&Ge()}function Ye(){var e=je;return je=!1,Pe=!1,e}function Ge(){var e,t,n;do{for(;De.length>0;)for(e=De,De=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(De.length>0);je=!0,Pe=!0}function Xe(){var e=Ne;Ne=[],e.forEach(e=>{e._PSD.onunhandled.call(null,e._value,e)});for(var t=Ie.slice(0),n=t.length;n;)t[--n]()}function Je(e){return new Me(ye,!1,e)}function Ze(e,t){var n=Oe;return function(){var r=Ye(),a=Oe;try{return ft(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{ft(a,!1),r&&Ge()}}}g(Me.prototype,{then:Fe,_then:function(e,t){qe(this,new Ke(null,null,e,t,Oe))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,e=>e instanceof t?n(e):Je(e)):this.then(null,e=>e&&e.name===t?n(e):Je(e))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Je(t)))},stack:{get:function(){if(this._stack)return this._stack;try{_e=!0;var e=He(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=e),e}finally{_e=!1}}},timeout:function(e,t){return e<1/0?new Me((n,r)=>{var a=setTimeout(()=>r(new ie.Timeout(t)),e);this.then(n,r).finally(clearTimeout.bind(null,a))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&y(Me.prototype,Symbol.toStringTag,"Dexie.Promise"),Re.env=ht(),g(Me,{all:function(){var e=U.apply(null,arguments).map(ut);return new Me(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach((a,i)=>Me.resolve(a).then(n=>{e[i]=n,--r||t(e)},n))})},resolve:e=>{if(e instanceof Me)return e;if(e&&"function"==typeof e.then)return new Me((t,n)=>{e.then(t,n)});var t=new Me(ye,!0,e);return Ve(t,ze),t},reject:Je,race:function(){var e=U.apply(null,arguments).map(ut);return new Me((t,n)=>{e.map(e=>Me.resolve(e).then(t,n))})},PSD:{get:()=>Oe,set:e=>Oe=e},totalEchoes:{get:()=>at},newPSD:lt,usePSD:pt,scheduler:{get:()=>Ee,set:e=>{Ee=e}},rejectionMapper:{get:()=>Ae,set:e=>{Ae=e}},follow:(e,t)=>new Me((n,r)=>lt((t,n)=>{var r=Oe;r.unhandleds=[],r.onunhandled=n,r.finalize=de(function(){!function(e){Ie.push(function t(){e(),Ie.splice(Ie.indexOf(t),1)}),++Le,Ee(()=>{0==--Le&&Xe()},[])}(()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])})},r.finalize),e()},t,n,r))}),xe&&(xe.allSettled&&y(Me,"allSettled",function(){const e=U.apply(null,arguments).map(ut);return new Me(t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach((e,a)=>Me.resolve(e).then(e=>r[a]={status:"fulfilled",value:e},e=>r[a]={status:"rejected",reason:e}).then(()=>--n||t(r)))})}),xe.any&&"undefined"!=typeof AggregateError&&y(Me,"any",function(){const e=U.apply(null,arguments).map(ut);return new Me((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const a=new Array(r);e.forEach((e,i)=>Me.resolve(e).then(e=>t(e),e=>{a[i]=e,--r||n(new AggregateError(a))}))})}));const et={awaits:0,echoes:0,id:0};var tt=0,nt=[],rt=0,at=0,it=0;function lt(e,t,n,r){var a=Oe,i=Object.create(a);i.parent=a,i.ref=0,i.global=!1,i.id=++it;var l=Re.env;i.env=Se?{Promise:Me,PromiseProp:{value:Me,configurable:!0,writable:!0},all:Me.all,race:Me.race,allSettled:Me.allSettled,any:Me.any,resolve:Me.resolve,reject:Me.reject,nthen:yt(l.nthen,i),gthen:yt(l.gthen,i)}:{},t&&d(i,t),++a.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=pt(i,e,n,r);return 0===i.ref&&i.finalize(),s}function st(){return et.id||(et.id=++tt),++et.awaits,et.echoes+=100,et.id}function ot(){return!!et.awaits&&(0==--et.awaits&&(et.id=0),et.echoes=100*et.awaits,!0)}function ut(e){return et.echoes&&e&&e.constructor===xe?(st(),e.then(e=>(ot(),e),e=>(ot(),wt(e)))):e}function ct(e){++at,et.echoes&&0!=--et.echoes||(et.echoes=et.id=0),nt.push(Oe),ft(e,!0)}function dt(){var e=nt[nt.length-1];nt.pop(),ft(e,!1)}function ft(e,t){var n=Oe;if((t?!et.echoes||rt++&&e===Oe:!rt||--rt&&e===Oe)||gt(t?ct.bind(null,e):dt),e!==Oe&&(Oe=e,n===Re&&(Re.env=ht()),Se)){var r=Re.env.Promise,a=e.env;be.then=a.nthen,r.prototype.then=a.gthen,(n.global||e.global)&&(Object.defineProperty(o,"Promise",a.PromiseProp),r.all=a.all,r.race=a.race,r.resolve=a.resolve,r.reject=a.reject,a.allSettled&&(r.allSettled=a.allSettled),a.any&&(r.any=a.any))}}function ht(){var e=o.Promise;return Se?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:be.then,gthen:e.prototype.then}:{}}function pt(e,t,n,r,a){var i=Oe;try{return ft(e,!0),t(n,r,a)}finally{ft(i,!1)}}function gt(e){ke.call(ve,e)}function mt(e,t,n,r){return"function"!=typeof e?e:function(){var a=Oe;n&&st(),ft(t,!0);try{return e.apply(this,arguments)}finally{ft(a,!1),r&&gt(ot)}}}function yt(e,t){return function(n,r){return e.call(this,mt(n,t),mt(r,t))}}-1===(""+ke).indexOf("[native code]")&&(st=ot=oe);const vt="unhandledrejection";function bt(e,t){var n;try{n=t.onuncatched(e)}catch(e){}if(!1!==n)try{var r,a={promise:t,reason:e};if(o.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(vt,!0,!0),d(r,a)):o.CustomEvent&&d(r=new CustomEvent(vt,{detail:a}),a),r&&o.dispatchEvent&&(dispatchEvent(r),!o.PromiseRejectionEvent&&o.onunhandledrejection))try{o.onunhandledrejection(r)}catch(e){}q&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch(e){}}var wt=Me.reject;function kt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Oe.letThrough||e._vip)){var a=e._createTransaction(t,n,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===re.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>kt(e,t,n,r))):wt(a)}return a._promise(t,(e,t)=>lt(()=>(Oe.trans=a,r(e,t,a)))).then(e=>a._completion.then(()=>e))}if(e._state.openComplete)return wt(new ie.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return wt(new ie.DatabaseClosed);e.open().catch(oe)}return e._state.dbReadyPromise.then(()=>kt(e,t,n,r))}const xt="3.2.7",St=String.fromCharCode(65535),_t=-1/0,Ct="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Et="String expected.",jt=[],Pt="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Nt=Pt,Tt=Pt,zt=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),At="__dbnames",Rt="readonly",Ot="readwrite";function Dt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const Lt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function It(e){return"string"!=typeof e||/\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=D(t))[e],t)}class Mt{_trans(e,t,n){const r=this._tx||Oe.trans,a=this.name;function i(e,n,r){if(!r.schema[a])throw new ie.NotFound("Table "+a+" not part of transaction");return t(r.idbtrans,r)}const l=Ye();try{return r&&r.db===this.db?r===Oe.trans?r._promise(e,i,n):lt(()=>r._promise(e,i,n),{trans:r,transless:Oe.transless||Oe}):kt(this.db,e,[this.name],i)}finally{l&&Ge()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans("readonly",t=>this.core.get({trans:t,key:e}).then(e=>this.hook.reading.fire(e))).then(t)}where(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(c(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const t=u(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);const n=this.schema.indexes.concat(this.schema.primKey).filter(e=>{if(e.compound&&t.every(t=>e.keyPath.indexOf(t)>=0)){for(let n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1}).sort((e,t)=>e.keyPath.length-t.keyPath.length)[0];if(n&&this.db._maxKey!==St){const r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map(t=>e[t]))}!n&&q&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${t.join("+")}]`);const{idxByName:r}=this.schema,a=this.db._deps.indexedDB;function i(e,t){try{return 0===a.cmp(e,t)}catch(e){return!1}}const[l,s]=t.reduce(([t,n],a)=>{const l=r[a],s=e[a];return[t||l,t||!l?Dt(n,l&&l.multi?e=>{const t=j(e,a);return c(t)&&t.some(e=>i(s,e))}:e=>i(s,j(e,a))):n]},[null,null]);return l?this.where(l.name).equals(e[l.keyPath]).filter(s):n?this.filter(s):this.where(t).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,c(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(p(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook("reading",t),e}defineClass(){return this.mapToClass(function(e){d(this,e)})}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let a=e;return r&&n&&(a=It(r)(e)),this._trans("readwrite",e=>this.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})).then(e=>e.numFailures?Me.reject(e.failures[0]):e.lastResult).then(t=>{if(r)try{P(e,r,t)}catch(e){}return t})}update(e,t){if("object"!=typeof e||c(e))return this.where(":id").equals(e).modify(t);{const n=j(e,this.schema.primKey.keyPath);if(void 0===n)return wt(new ie.InvalidArgument("Given object does not contain its primary key"));try{"function"!=typeof t?u(t).forEach(n=>{P(e,n,t[n])}):t(e,{value:e,primKey:n})}catch(e){}return this.where(":id").equals(n).modify(t)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let a=e;return r&&n&&(a=It(r)(e)),this._trans("readwrite",e=>this.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})).then(e=>e.numFailures?Me.reject(e.failures[0]):e.lastResult).then(t=>{if(r)try{P(e,r,t)}catch(e){}return t})}delete(e){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"delete",keys:[e]})).then(e=>e.numFailures?Me.reject(e.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:Lt})).then(e=>e.numFailures?Me.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",t=>this.core.getMany({keys:e,trans:t}).then(e=>e.map(e=>this.hook.reading.fire(e))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,a=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");const l=e.length;let s=i&&n?e.map(It(i)):e;return this.core.mutate({trans:t,type:"add",keys:r,values:s,wantResults:a}).then(({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return a?t:n;throw new ne(`${this.name}.bulkAdd(): ${e} of ${l} operations failed`,r)})})}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,a=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new ie.InvalidArgument("Arguments objects and keys must have the same length");const l=e.length;let s=i&&n?e.map(It(i)):e;return this.core.mutate({trans:t,type:"put",keys:r,values:s,wantResults:a}).then(({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return a?t:n;throw new ne(`${this.name}.bulkPut(): ${e} of ${l} operations failed`,r)})})}bulkDelete(e){const t=e.length;return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"delete",keys:e})).then(({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new ne(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)})}}function Ft(e){var t={},n=function(n,r){if(r){for(var a=arguments.length,i=new Array(a-1);--a;)i[a-1]=arguments[a];return t[n].subscribe.apply(null,i),e}if("string"==typeof n)return t[n]};n.addEventType=i;for(var r=1,a=arguments.length;r<a;++r)i(arguments[r]);return n;function i(e,r,a){if("object"!=typeof e){var l;r||(r=ge),a||(a=oe);var s={subscribers:[],fire:a,subscribe:function(e){-1===s.subscribers.indexOf(e)&&(s.subscribers.push(e),s.fire=r(s.fire,e))},unsubscribe:function(e){s.subscribers=s.subscribers.filter(function(t){return t!==e}),s.fire=s.subscribers.reduce(r,a)}};return t[e]=n[e]=s,s}u(l=e).forEach(function(e){var t=l[e];if(c(t))i(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new ie.InvalidArgument("Invalid event config");var n=i(e,ue,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){C(function(){e.apply(null,t)})})})}})}}function Kt(e,t){return v(t).from({prototype:e}),t}function Bt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ut(e,t){e.filter=Dt(e.filter,t)}function Qt(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>Dt(r(),t()):t,e.justLimit=n&&!r}function qt(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new ie.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function $t(e,t,n){const r=qt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Ht(e,t,n,r){const a=e.replayFilter?Dt(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},l=(e,n,r)=>{if(!a||a(n,r,e=>n.stop(e),e=>n.fail(e))){var l=n.primaryKey,s=""+l;"[object ArrayBuffer]"===s&&(s=""+new Uint8Array(l)),p(i,s)||(i[s]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(l,n),Vt($t(e,r,n),e.algorithm,l,!e.keysOnly&&e.valueMapper)])}return Vt($t(e,r,n),Dt(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function Vt(e,t,n,r){var a=Ze(r?(e,t,a)=>n(r(e),t,a):n);return e.then(e=>{if(e)return e.start(()=>{var n=()=>e.continue();t&&!t(e,e=>n=e,t=>{e.stop(t),n=oe},t=>{e.fail(t),n=oe})||a(e.value,e,e=>n=e),n()})})}function Wt(e,t){try{const n=Yt(e),r=Yt(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return function(e,t){const n=e.length,r=t.length,a=n<r?n:r;for(let n=0;n<a;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(Gt(e),Gt(t));case"Array":return function(e,t){const n=e.length,r=t.length,a=n<r?n:r;for(let n=0;n<a;++n){const r=Wt(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Yt(e){const t=typeof e;if("object"!==t)return t;if(ArrayBuffer.isView(e))return"binary";const n=M(e);return"ArrayBuffer"===n?"binary":n}function Gt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Xt{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,wt.bind(null,n.error)):n.table._trans("readonly",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,wt.bind(null,t.error)):t.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var t=this._ctx;t.algorithm=Dt(t.algorithm,e)}_iterate(e,t){return Ht(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&d(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read(n=>Ht(t,e,n,t.table.core))}count(e){return this._read(e=>{const t=this._ctx,n=t.table.core;if(Bt(t,!0))return n.count({trans:e,query:{index:qt(t,n.schema),range:t.range}}).then(e=>Math.min(e,t.limit));var r=0;return Ht(t,()=>(++r,!1),e,n).then(()=>r)}).then(e)}sortBy(e,t){const n=e.split(".").reverse(),r=n[0],a=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var l="next"===this._ctx.dir?1:-1;function s(e,t){var n=i(e,a),r=i(t,a);return n<r?-l:n>r?l:0}return this.toArray(function(e){return e.sort(s)}).then(t)}toArray(e){return this._read(e=>{var t=this._ctx;if("next"===t.dir&&Bt(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=qt(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then(({result:e})=>n?e.map(n):e)}{const n=[];return Ht(t,e=>n.push(e),e,t.table.core).then(()=>n)}},e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Bt(t)?Qt(t,()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n(()=>{e.advance(t),t=0}),!1))}):Qt(t,()=>{var t=e;return()=>--t<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Qt(this._ctx,()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}},!0),this}until(e,t){return Ut(this._ctx,function(n,r,a){return!e(n.value)||(r(a),t)}),this}first(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Ut(this._ctx,function(t){return e(t.value)}),t=this._ctx,n=e,t.isMatch=Dt(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)}primaryKeys(e){var t=this._ctx;if("next"===t.dir&&Bt(t,!0)&&t.limit>0)return this._read(e=>{var n=qt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})}).then(({result:e})=>e).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(e){return e[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Ut(this._ctx,function(e){var t=e.primaryKey.toString(),r=p(n,t);return n[t]=!0,!r}),this}modify(e){var t=this._ctx;return this._write(n=>{var r;if("function"==typeof e)r=e;else{var a=u(e),i=a.length;r=function(t){for(var n=!1,r=0;r<i;++r){var l=a[r],s=e[l];j(t,l)!==s&&(P(t,l,s),n=!0)}return n}}const l=t.table.core,{outbound:s,extractKey:o}=l.schema.primaryKey,c=this.db._options.modifyChunkSize||200,d=[];let f=0;const h=[],p=(e,t)=>{const{failures:n,numFailures:r}=t;f+=e-r;for(let e of u(n))d.push(n[e])};return this.clone().primaryKeys().then(a=>{const i=u=>{const d=Math.min(c,a.length-u);return l.getMany({trans:n,keys:a.slice(u,u+d),cache:"immutable"}).then(f=>{const h=[],g=[],m=s?[]:null,y=[];for(let e=0;e<d;++e){const t=f[e],n={value:D(t),primKey:a[u+e]};!1!==r.call(n,n.value,n)&&(null==n.value?y.push(a[u+e]):s||0===Wt(o(t),o(n.value))?(g.push(n.value),s&&m.push(a[u+e])):(y.push(a[u+e]),h.push(n.value)))}const v=Bt(t)&&t.limit===1/0&&("function"!=typeof e||e===Jt)&&{index:t.index,range:t.range};return Promise.resolve(h.length>0&&l.mutate({trans:n,type:"add",values:h}).then(e=>{for(let t in e.failures)y.splice(parseInt(t),1);p(h.length,e)})).then(()=>(g.length>0||v&&"object"==typeof e)&&l.mutate({trans:n,type:"put",keys:m,values:g,criteria:v,changeSpec:"function"!=typeof e&&e}).then(e=>p(g.length,e))).then(()=>(y.length>0||v&&e===Jt)&&l.mutate({trans:n,type:"delete",keys:y,criteria:v}).then(e=>p(y.length,e))).then(()=>a.length>u+d&&i(u+c))})};return i(0).then(()=>{if(d.length>0)throw new te("Error modifying one or more objects",d,f,h);return a.length})})})}delete(){var e=this._ctx,t=e.range;return Bt(e)&&(e.isPrimKey&&!Tt||3===t.type)?this._write(n=>{const{primaryKey:r}=e.table.core.schema,a=t;return e.table.core.count({trans:n,query:{index:r,range:a}}).then(t=>e.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(({failures:e,lastResult:n,results:r,numFailures:a})=>{if(a)throw new te("Could not delete some values",Object.keys(e).map(t=>e[t]),t-a);return t-a}))}):this.modify(Jt)}}const Jt=(e,t)=>t.value=null;function Zt(e,t){return e<t?-1:e===t?0:1}function en(e,t){return e>t?-1:e===t?0:1}function tn(e,t,n){var r=e instanceof on?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function nn(e){return new e.Collection(e,()=>sn("")).limit(0)}function rn(e,t,n,r,a,i){for(var l=Math.min(e.length,r.length),s=-1,o=0;o<l;++o){var u=t[o];if(u!==r[o])return a(e[o],n[o])<0?e.substr(0,o)+n[o]+n.substr(o+1):a(e[o],r[o])<0?e.substr(0,o)+r[o]+n.substr(o+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;a(e[o],u)<0&&(s=o)}return l<r.length&&"next"===i?e+n.substr(e.length):l<e.length&&"prev"===i?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}function an(e,t,n,r){var a,i,l,s,o,u,c,d=n.length;if(!n.every(e=>"string"==typeof e))return tn(e,Et);function f(e){a=function(e){return"next"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return"next"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),l="next"===e?Zt:en;var t=n.map(function(e){return{lower:i(e),upper:a(e)}}).sort(function(e,t){return l(e.lower,t.lower)});s=t.map(function(e){return e.upper}),o=t.map(function(e){return e.lower}),u=e,c="next"===e?"":r}f("next");var h=new e.Collection(e,()=>ln(s[0],o[d-1]+r));h._ondirectionchange=function(e){f(e)};var p=0;return h._addAlgorithm(function(e,n,r){var a=e.key;if("string"!=typeof a)return!1;var f=i(a);if(t(f,o,p))return!0;for(var h=null,g=p;g<d;++g){var m=rn(a,f,s[g],o[g],l,u);null===m&&null===h?p=g+1:(null===h||l(h,m)>0)&&(h=m)}return n(null!==h?function(){e.continue(h+c)}:r),!1}),h}function ln(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function sn(e){return{type:1,lower:e,upper:e}}class on{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?nn(this):new this.Collection(this,()=>ln(e,t,!n,!r))}catch(e){return tn(this,Ct)}}equals(e){return null==e?tn(this,Ct):new this.Collection(this,()=>sn(e))}above(e){return null==e?tn(this,Ct):new this.Collection(this,()=>ln(e,void 0,!0))}aboveOrEqual(e){return null==e?tn(this,Ct):new this.Collection(this,()=>ln(e,void 0,!1))}below(e){return null==e?tn(this,Ct):new this.Collection(this,()=>ln(void 0,e,!1,!0))}belowOrEqual(e){return null==e?tn(this,Ct):new this.Collection(this,()=>ln(void 0,e))}startsWith(e){return"string"!=typeof e?tn(this,Et):this.between(e,e+St,!0,!0)}startsWithIgnoreCase(e){return""===e?this.startsWith(e):an(this,(e,t)=>0===e.indexOf(t[0]),[e],St)}equalsIgnoreCase(e){return an(this,(e,t)=>e===t[0],[e],"")}anyOfIgnoreCase(){var e=U.apply(B,arguments);return 0===e.length?nn(this):an(this,(e,t)=>-1!==t.indexOf(e),e,"")}startsWithAnyOfIgnoreCase(){var e=U.apply(B,arguments);return 0===e.length?nn(this):an(this,(e,t)=>t.some(t=>0===e.indexOf(t)),e,St)}anyOf(){const e=U.apply(B,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return tn(this,Ct)}if(0===e.length)return nn(this);const n=new this.Collection(this,()=>ln(e[0],e[e.length-1]));n._ondirectionchange=n=>{t="next"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm((n,a,i)=>{const l=n.key;for(;t(l,e[r])>0;)if(++r,r===e.length)return a(i),!1;return 0===t(l,e[r])||(a(()=>{n.continue(e[r])}),!1)}),n}notEqual(e){return this.inAnyRange([[_t,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=U.apply(B,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return tn(this,Ct)}const t=e.reduce((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[_t,t]],null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,a=this._descending,i=this._min,l=this._max;if(0===e.length)return nn(this);if(!e.every(e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0))return tn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ie.InvalidArgument);const s=!t||!1!==t.includeLowers,o=t&&!0===t.includeUppers;let u,c=r;function d(e,t){return c(e[0],t[0])}try{u=e.reduce(function(e,t){let r=0,a=e.length;for(;r<a;++r){const a=e[r];if(n(t[0],a[1])<0&&n(t[1],a[0])>0){a[0]=i(a[0],t[0]),a[1]=l(a[1],t[1]);break}}return r===a&&e.push(t),e},[]),u.sort(d)}catch(e){return tn(this,Ct)}let f=0;const h=o?e=>r(e,u[f][1])>0:e=>r(e,u[f][1])>=0,p=s?e=>a(e,u[f][0])>0:e=>a(e,u[f][0])>=0;let g=h;const m=new this.Collection(this,()=>ln(u[0][0],u[u.length-1][1],!s,!o));return m._ondirectionchange=e=>{"next"===e?(g=h,c=r):(g=p,c=a),u.sort(d)},m._addAlgorithm((e,t,n)=>{for(var a=e.key;g(a);)if(++f,f===u.length)return t(n),!1;return!!function(e){return!h(e)&&!p(e)}(a)||(0===this._cmp(a,u[f][1])||0===this._cmp(a,u[f][0])||t(()=>{c===r?e.continue(u[f][0]):e.continue(u[f][1])}),!1)}),m}startsWithAnyOf(){const e=U.apply(B,arguments);return e.every(e=>"string"==typeof e)?0===e.length?nn(this):this.inAnyRange(e.map(e=>[e,e+St])):tn(this,"startsWithAnyOf() only works with strings")}}function un(e){return Ze(function(t){return cn(t),e(t.target.error),!1})}function cn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const dn="storagemutated",fn="x-storagemutated-1",hn=Ft(null,dn);class pn{_lock(){return _(!Oe.global),++this._reculock,1!==this._reculock||Oe.global||(Oe.lockOwnerFor=this),this}_unlock(){if(_(!Oe.global),0==--this._reculock)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{pt(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Oe.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(_(!this.idbtrans),!e&&!t)switch(n&&n.name){case"DatabaseClosedError":throw new ie.DatabaseClosed(n);case"MissingAPIError":throw new ie.MissingAPI(n.message,n);default:throw new ie.OpenFailed(n)}if(!this.active)throw new ie.TransactionInactive;return _(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ze(t=>{cn(t),this._reject(e.error)}),e.onabort=Ze(t=>{cn(t),this.active&&this._reject(new ie.Abort(e.error)),this.active=!1,this.on("abort").fire(t)}),e.oncomplete=Ze(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&hn.storagemutated.fire(e.mutatedParts)}),this}_promise(e,t,n){if("readwrite"===e&&"readwrite"!==this.mode)return wt(new ie.ReadOnly("Transaction is readonly"));if(!this.active)return wt(new ie.TransactionInactive);if(this._locked())return new Me((r,a)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,a)},Oe])});if(n)return lt(()=>{var e=new Me((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)});return e.finally(()=>this._unlock()),e._lib=!0,e});var r=new Me((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)});return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=Me.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then(()=>n);else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var a=t._waitingFor;return new Me((e,r)=>{n.then(n=>t._waitingQueue.push(Ze(e.bind(null,n))),e=>t._waitingQueue.push(Ze(r.bind(null,e)))).finally(()=>{t._waitingFor===a&&(t._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ie.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(p(t,e))return t[e];const n=this.schema[e];if(!n)throw new ie.NotFound("Table "+e+" not part of transaction");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function gn(e,t,n,r,a,i,l){return{name:e,keyPath:t,unique:n,multi:r,auto:a,compound:i,src:(n&&!l?"&":"")+(r?"*":"")+(a?"++":"")+mn(t)}}function mn(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function yn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:E(n,e=>[e.name,e])}}let vn=e=>{try{return e.only([[]]),vn=()=>[[]],[[]]}catch(e){return vn=()=>St,St}};function bn(e){return null==e?()=>{}:"string"==typeof e?function(e){return 1===e.split(".").length?t=>t[e]:t=>j(t,e)}(e):t=>j(t,e)}function wn(e){return[].slice.call(e)}let kn=0;function xn(e){return null==e?":id":"string"==typeof e?e:`[${e.join("+")}]`}function Sn(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:n,upper:r,lowerOpen:a,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!a):t.bound(n,r,!!a,!!i)}const{schema:a,hasGetAll:i}=function(e,t){const n=wn(e.objectStoreNames);return{schema:{name:e.name,tables:n.map(e=>t.objectStore(e)).map(e=>{const{keyPath:t,autoIncrement:n}=e,r=c(t),a=null==t,i={},l={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:a,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:bn(t)},indexes:wn(e.indexNames).map(t=>e.index(t)).map(e=>{const{name:t,unique:n,multiEntry:r,keyPath:a}=e,l={name:t,compound:c(a),keyPath:a,unique:n,multiEntry:r,extractKey:bn(a)};return i[xn(a)]=l,l}),getIndexByKeyPath:e=>i[xn(e)]};return i[":id"]=l.primaryKey,null!=t&&(i[xn(t)]=l.primaryKey),l})},hasGetAll:n.length>0&&"getAll"in t.objectStore(n[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(e,n),l=a.tables.map(e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:a,values:i,range:l}){return new Promise((s,o)=>{s=Ze(s);const u=e.objectStore(t),c=null==u.keyPath,d="put"===n||"add"===n;if(!d&&"delete"!==n&&"deleteRange"!==n)throw new Error("Invalid operation type: "+n);const{length:f}=a||i||{length:1};if(a&&i&&a.length!==i.length)throw new Error("Given keys array must have same length as given values array.");if(0===f)return s({numFailures:0,failures:{},results:[],lastResult:void 0});let h;const p=[],g=[];let m=0;const y=e=>{++m,cn(e)};if("deleteRange"===n){if(4===l.type)return s({numFailures:m,failures:g,results:[],lastResult:void 0});3===l.type?p.push(h=u.clear()):p.push(h=u.delete(r(l)))}else{const[e,t]=d?c?[i,a]:[i,null]:[a,null];if(d)for(let r=0;r<f;++r)p.push(h=t&&void 0!==t[r]?u[n](e[r],t[r]):u[n](e[r])),h.onerror=y;else for(let t=0;t<f;++t)p.push(h=u[n](e[t])),h.onerror=y}const v=e=>{const t=e.target.result;p.forEach((e,t)=>null!=e.error&&(g[t]=e.error)),s({numFailures:m,failures:g,results:"delete"===n?a:p.map(e=>e.result),lastResult:t})};h.onerror=e=>{y(e),v(e)},h.onsuccess=v})},getMany:({trans:e,keys:n})=>new Promise((r,a)=>{r=Ze(r);const i=e.objectStore(t),l=n.length,s=new Array(l);let o,u=0,c=0;const d=e=>{const t=e.target;s[t._pos]=t.result,++c===u&&r(s)},f=un(a);for(let e=0;e<l;++e)null!=n[e]&&(o=i.get(n[e]),o._pos=e,o.onsuccess=d,o.onerror=f,++u);0===u&&r(s)}),get:({trans:e,key:n})=>new Promise((r,a)=>{r=Ze(r);const i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=un(a)}),query:function(e){return n=>new Promise((a,i)=>{a=Ze(a);const{trans:l,values:s,limit:o,query:u}=n,c=o===1/0?void 0:o,{index:d,range:f}=u,h=l.objectStore(t),p=d.isPrimaryKey?h:h.index(d.name),g=r(f);if(0===o)return a({result:[]});if(e){const e=s?p.getAll(g,c):p.getAllKeys(g,c);e.onsuccess=e=>a({result:e.target.result}),e.onerror=un(i)}else{let e=0;const t=s||!("openKeyCursor"in p)?p.openCursor(g):p.openKeyCursor(g),n=[];t.onsuccess=r=>{const i=t.result;return i?(n.push(s?i.value:i.primaryKey),++e===o?a({result:n}):void i.continue()):a({result:n})},t.onerror=un(i)}})}(i),openCursor:function({trans:e,values:n,query:a,reverse:i,unique:l}){return new Promise((s,o)=>{s=Ze(s);const{index:u,range:c}=a,d=e.objectStore(t),f=u.isPrimaryKey?d:d.index(u.name),h=i?l?"prevunique":"prev":l?"nextunique":"next",p=n||!("openKeyCursor"in f)?f.openCursor(r(c),h):f.openKeyCursor(r(c),h);p.onerror=un(o),p.onsuccess=Ze(t=>{const n=p.result;if(!n)return void s(null);n.___id=++kn,n.done=!1;const r=n.continue.bind(n);let a=n.continuePrimaryKey;a&&(a=a.bind(n));const i=n.advance.bind(n),l=()=>{throw new Error("Cursor not stopped")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error("Cursor not started")},n.fail=Ze(o),n.next=function(){let e=1;return this.start(()=>e--?this.continue():this.stop()).then(()=>this)},n.start=e=>{const t=new Promise((e,t)=>{e=Ze(e),p.onerror=un(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=l,e(t)}}),s=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error("Cursor behind last entry")},n.stop()};return p.onsuccess=Ze(e=>{p.onsuccess=s,s()}),n.continue=r,n.continuePrimaryKey=a,n.advance=i,s(),t},s(n)},o)})},count({query:e,trans:n}){const{index:a,range:i}=e;return new Promise((e,l)=>{const s=n.objectStore(t),o=a.isPrimaryKey?s:s.index(a.name),u=r(i),c=u?o.count(u):o.count();c.onsuccess=Ze(t=>e(t.target.result)),c.onerror=un(l)})}}}(e)),s={};return l.forEach(e=>s[e.name]=e),{stack:"dbcore",transaction:e.transaction.bind(e),table(e){if(!s[e])throw new Error(`Table '${e}' not found`);return s[e]},MIN_KEY:-1/0,MAX_KEY:vn(t),schema:a}}function _n({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},a){const i=function(e,t){return t.reduce((e,{create:t})=>({...e,...t(e)}),e)}(Sn(t,n,a),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(t=>{const n=t.name;e.core.schema.tables.some(e=>e.name===n)&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))})}function Cn({_novip:e},t,n,r){n.forEach(n=>{const a=r[n];t.forEach(t=>{const r=w(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?y(t,n,{get(){return this.table(n)},set(e){m(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,a))})})}function En({_novip:e},t){t.forEach(t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]})}function jn(e,t){return e._cfg.version-t._cfg.version}function Pn(e,t,n,r){const a=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,a);i.create(n),i._completion.catch(r);const l=i._reject.bind(i),s=Oe.transless||Oe;lt(()=>{Oe.trans=i,Oe.transless=s,0===t?(u(a).forEach(e=>{Tn(n,e,a[e].primKey,a[e].indexes)}),_n(e,n),Me.follow(()=>e.on.populate.fire(i)).catch(l)):function({_novip:e},t,n,r){const a=[],i=e._versions;let l=e._dbSchema=An(0,e.idbdb,r),s=!1;const o=i.filter(e=>e._cfg.version>=t);return o.forEach(i=>{a.push(()=>{const a=l,o=i._cfg.dbschema;Rn(e,a,r),Rn(e,o,r),l=e._dbSchema=o;const c=Nn(a,o);c.add.forEach(e=>{Tn(r,e[0],e[1].primKey,e[1].indexes)}),c.change.forEach(e=>{if(e.recreate)throw new ie.Upgrade("Not yet support for changing primary key");{const t=r.objectStore(e.name);e.add.forEach(e=>zn(t,e)),e.change.forEach(e=>{t.deleteIndex(e.name),zn(t,e)}),e.del.forEach(e=>t.deleteIndex(e))}});const d=i._cfg.contentUpgrade;if(d&&i._cfg.version>t){_n(e,r),n._memoizedTables={},s=!0;let t=N(o);c.del.forEach(e=>{t[e]=a[e]}),En(e,[e.Transaction.prototype]),Cn(e,[e.Transaction.prototype],u(t),t),n.schema=t;const i=Q(d);let l;i&&st();const f=Me.follow(()=>{if(l=d(n),l&&i){var e=ot.bind(null,null);l.then(e,e)}});return l&&"function"==typeof l.then?Me.resolve(l):f.then(()=>l)}}),a.push(t=>{s&&Nt||function(e,t){[].slice.call(t.db.objectStoreNames).forEach(n=>null==e[n]&&t.db.deleteObjectStore(n))}(i._cfg.dbschema,t),En(e,[e.Transaction.prototype]),Cn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema})}),function e(){return a.length?Me.resolve(a.shift()(n.idbtrans)).then(e):Me.resolve()}().then(()=>{var e,t;t=r,u(e=l).forEach(n=>{t.db.objectStoreNames.contains(n)||Tn(t,n,e[n].primKey,e[n].indexes)})})}(e,t,i,n).catch(l)})}function Nn(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const a=e[r],i=t[r];if(a){const e={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||a.primKey.auto!==i.primKey.auto&&!Pt)e.recreate=!0,n.change.push(e);else{const t=a.idxByName,r=i.idxByName;let l;for(l in t)r[l]||e.del.push(l);for(l in r){const n=t[l],a=r[l];n?n.src!==a.src&&e.change.push(a):e.add.push(a)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,i])}return n}function Tn(e,t,n,r){const a=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(e=>zn(a,e)),a}function zn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function An(e,t,n){const r={};return x(t.objectStoreNames,0).forEach(e=>{const t=n.objectStore(e);let a=t.keyPath;const i=gn(mn(a),a||"",!1,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),l=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);a=n.keyPath;var s=gn(n.name,a,!!n.unique,!!n.multiEntry,!1,a&&"string"!=typeof a,!1);l.push(s)}r[e]=yn(e,i,l)}),r}function Rn({_novip:e},t,n){const r=n.db.objectStoreNames;for(let a=0;a<r.length;++a){const i=r[a],l=n.objectStore(i);e._hasGetAll="getAll"in l;for(let e=0;e<l.indexNames.length;++e){const n=l.indexNames[e],r=l.index(n).keyPath,a="string"==typeof r?r:"["+x(r).join("+")+"]";if(t[i]){const e=t[i].idxByName[a];e&&(e.name=n,delete t[i].idxByName[a],t[i].idxByName[n]=e)}}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}class On{_parseStoresSpec(e,t){u(e).forEach(n=>{if(null!==e[n]){var r=e[n].split(",").map((e,t)=>{const n=(e=e.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return gn(n,r||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),c(r),0===t)}),a=r.shift();if(a.multi)throw new ie.Schema("Primary key cannot be multi-valued");r.forEach(e=>{if(e.auto)throw new ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new ie.Schema("Index must have a name and cannot be an empty string")}),t[n]=yn(n,a,r)}})}stores(e){const t=this.db;this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,e):e;const n=t._versions,r={};let a={};return n.forEach(e=>{d(r,e._cfg.storesSource),a=e._cfg.dbschema={},e._parseStoresSpec(r,a)}),t._dbSchema=a,En(t,[t._allTables,t,t.Transaction.prototype]),Cn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],u(a),a),t._storeNames=u(a),this}upgrade(e){return this._cfg.contentUpgrade=me(this._cfg.contentUpgrade||oe,e),this}}function Dn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new nr(At,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function Ln(e){return e&&"function"==typeof e.databases}function In(e){return lt(function(){return Oe.letThrough=!0,e()})}function Mn(){var e;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()}).finally(function(){return clearInterval(e)}):Promise.resolve()}function Fn(e){var t=t=>e.next(t),n=a(t),r=a(t=>e.throw(t));function a(e){return t=>{var a=e(t),i=a.value;return a.done?i:i&&"function"==typeof i.then?i.then(n,r):c(i)?Promise.all(i).then(n,r):n(i)}}return a(t)()}function Kn(e,t,n){var r=arguments.length;if(r<2)throw new ie.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];return n=a.pop(),[e,z(a),n]}function Bn(e,t,n,r,a){return Me.resolve().then(()=>{const i=Oe.transless||Oe,l=e._createTransaction(t,n,e._dbSchema,r),s={trans:l,transless:i};if(r)l.idbtrans=r.idbtrans;else try{l.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===re.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Bn(e,t,n,null,a))):wt(r)}const o=Q(a);let u;o&&st();const c=Me.follow(()=>{if(u=a.call(l,l),u)if(o){var e=ot.bind(null,null);u.then(e,e)}else"function"==typeof u.next&&"function"==typeof u.throw&&(u=Fn(u))},s);return(u&&"function"==typeof u.then?Me.resolve(u).then(e=>l.active?e:wt(new ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>u)).then(e=>(r&&l._resolve(),l._completion.then(()=>e))).catch(e=>(l._reject(e),wt(e)))})}function Un(e,t,n){const r=c(e)?e.slice():[e];for(let e=0;e<n;++e)r.push(t);return r}const Qn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,a={},i=[];function l(e,t,n){const r=xn(e),s=a[r]=a[r]||[],o=null==e?0:"string"==typeof e?1:e.length,u=t>0,c={...n,isVirtual:u,keyTail:t,keyLength:o,extractKey:bn(e),unique:!u&&n.unique};return s.push(c),c.isPrimaryKey||i.push(c),o>1&&l(2===o?e[0]:e.slice(0,o-1),t+1,n),s.sort((e,t)=>e.keyTail-t.keyTail),c}const s=l(r.primaryKey.keyPath,0,r.primaryKey);a[":id"]=[s];for(const e of r.indexes)l(e.keyPath,0,e);function o(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,a=n.keyTail,{type:1===r.type?2:r.type,lower:Un(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,a),lowerOpen:!0,upper:Un(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,a),upperOpen:!0})}}:t;var r,a}const u={...n,schema:{...r,primaryKey:s,indexes:i,getIndexByKeyPath:function(e){const t=a[xn(e)];return t&&t[0]}},count:e=>n.count(o(e)),query:e=>n.query(o(e)),openCursor(t){const{keyTail:r,isVirtual:a,keyLength:i}=t.query.index;return a?n.openCursor(o(t)).then(n=>n&&function(n){const a=Object.create(n,{continue:{value:function(a){null!=a?n.continue(Un(a,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,a){n.continuePrimaryKey(Un(t,e.MAX_KEY,r),a)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return a}(n)):n.openCursor(t)}};return u}}}};function qn(e,t,n,r){return n=n||{},r=r||"",u(e).forEach(a=>{if(p(t,a)){var i=e[a],l=t[a];if("object"==typeof i&&"object"==typeof l&&i&&l){const e=M(i);e!==M(l)?n[r+a]=t[a]:"Object"===e?qn(i,l,n,r+a+"."):i!==l&&(n[r+a]=t[a])}else i!==l&&(n[r+a]=t[a])}else n[r+a]=void 0}),u(t).forEach(a=>{p(e,a)||(n[r+a]=t[a])}),n}const $n={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,a={...n,mutate(e){const a=Oe.trans,{deleting:i,creating:l,updating:s}=a.table(t).hook;switch(e.type){case"add":if(l.fire===oe)break;return a._promise("readwrite",()=>o(e),!0);case"put":if(l.fire===oe&&s.fire===oe)break;return a._promise("readwrite",()=>o(e),!0);case"delete":if(i.fire===oe)break;return a._promise("readwrite",()=>o(e),!0);case"deleteRange":if(i.fire===oe)break;return a._promise("readwrite",()=>function(e){return u(e.trans,e.range,1e4)}(e),!0)}return n.mutate(e);function o(e){const t=Oe.trans,a=e.keys||function(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!a)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?{...e,keys:a}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return"add"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}(n,e,a).then(o=>{const u=a.map((n,a)=>{const u=o[a],c={onerror:null,onsuccess:null};if("delete"===e.type)i.fire.call(c,n,u,t);else if("add"===e.type||void 0===u){const i=l.fire.call(c,n,e.values[a],t);null==n&&null!=i&&(n=i,e.keys[a]=n,r.outbound||P(e.values[a],r.keyPath,n))}else{const r=qn(u,e.values[a]),i=s.fire.call(c,r,n,u,t);if(i){const t=e.values[a];Object.keys(i).forEach(e=>{p(t,e)?t[e]=i[e]:P(t,e,i[e])})}}return c});return n.mutate(e).then(({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<a.length;++r){const i=n?n[r]:a[r],l=u[r];null==i?l.onerror&&l.onerror(t[r]):l.onsuccess&&l.onsuccess("put"===e.type&&o[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}}).catch(e=>(u.forEach(t=>t.onerror&&t.onerror(e)),Promise.reject(e)))})}function u(e,t,a){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:a}).then(({result:n})=>o({type:"delete",keys:n,trans:e}).then(r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<a?{failures:[],numFailures:0,lastResult:void 0}:u(e,{...t,lower:n[n.length-1],lowerOpen:!0},a)))}}};return a}})};function Hn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let a=0,i=0;a<t.keys.length&&i<e.length;++a)0===Wt(t.keys[a],e[i])&&(r.push(n?D(t.values[a]):t.values[a]),++i);return r.length===e.length?r:null}catch(e){return null}}const Vn={stack:"dbcore",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=Hn(e.keys,e.trans._cache,"clone"===e.cache);return t?Me.resolve(t):n.getMany(e).then(t=>(e.trans._cache={keys:e.keys,values:"clone"===e.cache?D(t):t},t))},mutate:e=>("add"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Wn(e){return!("from"in e)}const Yn=function(e,t){if(!this){const t=new Yn;return e&&"d"in e&&d(t,e),t}d(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Gn(e,t,n){const r=Wt(t,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Wn(e))return d(e,{from:t,to:n,d:1});const a=e.l,i=e.r;if(Wt(n,e.from)<0)return a?Gn(a,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Zn(e);if(Wt(t,e.to)>0)return i?Gn(i,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Zn(e);Wt(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),Wt(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const l=!e.r;a&&!e.l&&Xn(e,a),i&&l&&Xn(e,i)}function Xn(e,t){Wn(t)||function e(t,{from:n,to:r,l:a,r:i}){Gn(t,n,r),a&&e(t,a),i&&e(t,i)}(e,t)}function Jn(e){let t=Wn(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&Wt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||Wt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Zn(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),a=r>1?"r":r<-1?"l":"";if(a){const t="r"===a?"l":"r",n={...e},r=e[a];e.from=r.from,e.to=r.to,e[a]=r[a],n[a]=r[t],e[t]=n,n.d=er(n)}e.d=er(e)}function er({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}g(Yn.prototype,{add(e){return Xn(this,e),this},addKey(e){return Gn(this,e,e),this},addKeys(e){return e.forEach(e=>Gn(this,e,e)),this},[F](){return Jn(this)}});const tr={stack:"dbcore",level:0,create:e=>{const t=e.schema.name,n=new Yn(e.MIN_KEY,e.MAX_KEY);return{...e,table:r=>{const a=e.table(r),{schema:i}=a,{primaryKey:l}=i,{extractKey:s,outbound:o}=l,d={...a,mutate:e=>{const l=e.trans,s=l.mutatedParts||(l.mutatedParts={}),o=e=>{const n=`idb://${t}/${r}/${e}`;return s[n]||(s[n]=new Yn)},u=o(""),d=o(":dels"),{type:f}=e;let[h,p]="deleteRange"===e.type?[e.range]:"delete"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const g=e.trans._cache;return a.mutate(e).then(e=>{if(c(h)){"delete"!==f&&(h=e.results),u.addKeys(h);const t=Hn(h,g);t||"add"===f||d.addKeys(h),(t||p)&&function(e,t,n,r){t.indexes.forEach(function(t){const a=e(t.name||"");function i(e){return null!=e?t.extractKey(e):null}const l=e=>t.multiEntry&&c(e)?e.forEach(e=>a.addKey(e)):a.addKey(e);(n||r).forEach((e,t)=>{const a=n&&i(n[t]),s=r&&i(r[t]);0!==Wt(a,s)&&(null!=a&&l(a),null!=s&&l(s))})})}(o,i,t,p)}else if(h){const e={from:h.lower,to:h.upper};d.add(e),u.add(e)}else u.add(n),d.add(n),i.indexes.forEach(e=>o(e.name).add(n));return e})}},f=({query:{index:t,range:n}})=>{var r,a;return[t,new Yn(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(a=n.upper)&&void 0!==a?a:e.MAX_KEY)]},h={get:e=>[l,new Yn(e.key)],getMany:e=>[l,(new Yn).addKeys(e.keys)],count:f,query:f,openCursor:f};return u(h).forEach(e=>{d[e]=function(i){const{subscr:l}=Oe;if(l){const u=e=>{const n=`idb://${t}/${r}/${e}`;return l[n]||(l[n]=new Yn)},c=u(""),d=u(":dels"),[f,p]=h[e](i);if(u(f.name||"").add(p),!f.isPrimaryKey){if("count"!==e){const t="query"===e&&o&&i.values&&a.query({...i,values:!1});return a[e].apply(this,arguments).then(n=>{if("query"===e){if(o&&i.values)return t.then(({result:e})=>(c.addKeys(e),n));const e=i.values?n.result.map(s):n.result;i.values?c.addKeys(e):d.addKeys(e)}else if("openCursor"===e){const e=n,t=i.values;return e&&Object.create(e,{key:{get:()=>(d.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return d.addKey(t),t}},value:{get:()=>(t&&c.addKey(e.primaryKey),e.value)}})}return n})}d.add(n)}}return a[e].apply(this,arguments)}}),d}}}};class nr{constructor(e,t){this._middlewares={},this.verno=0;const n=nr.dependencies;this._options=t={addons:nr.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const a={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:oe,dbReadyPromise:null,cancelOpen:oe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;a.dbReadyPromise=new Me(e=>{a.dbReadyResolve=e}),a.openCanceller=new Me((e,t)=>{a.cancelOpen=t}),this._state=a,this.name=e,this.on=Ft(this,"populate","blocked","versionchange","close",{ready:[me,oe]}),this.on.ready.subscribe=S(this.on.ready.subscribe,e=>(t,n)=>{nr.vip(()=>{const r=this._state;if(r.openComplete)r.dbOpenError||Me.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e(function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)})}})}),this.Collection=(i=this,Kt(Xt.prototype,function(e,t){this.db=i;let n=Lt,r=null;if(t)try{n=t()}catch(e){r=e}const a=e._ctx,l=a.table,s=l.hook.reading.fire;this._ctx={table:l,index:a.index,isPrimKey:!a.index||l.schema.primKey.keyPath&&a.index===l.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:a.or,valueMapper:s!==ue?s:null}})),this.Table=function(e){return Kt(Mt.prototype,function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Ft(null,{creating:[fe,oe],reading:[ce,ue],updating:[pe,oe],deleting:[he,oe]})})}(this),this.Transaction=function(e){return Kt(pn.prototype,function(t,n,r,a,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=Ft(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Me((e,t)=>{this._resolve=e,this._reject=t}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),wt(e)})})}(this),this.Version=function(e){return Kt(On.prototype,function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(e){return Kt(on.prototype,function(t,n,r){this.db=e,this._ctx={table:t,index:":id"===n?null:n,or:r};const a=e._deps.indexedDB;if(!a)throw new ie.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=(e,t)=>a.cmp(t,e),this._max=(e,t)=>a.cmp(e,t)>0?e:t,this._min=(e,t)=>a.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange})}(this),this.on("versionchange",e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)}),this._maxKey=vn(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on("blocked").fire(e),jt.filter(e=>e.name===this.name&&e!==this&&!e._state.vcFired).map(t=>t.on("versionchange").fire(e))},this.use(Qn),this.use($n),this.use(tr),this.use(Vn),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach(e=>e(this))}version(e){if(isNaN(e)||e<.1)throw new ie.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter(t=>t._cfg.version===e)[0];return n||(n=new this.Version(e),t.push(n),t.sort(jn),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?e():new Me((e,t)=>{if(this._state.openComplete)return t(new ie.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new ie.DatabaseClosed);this.open().catch(oe)}this._state.dbReadyPromise.then(e,t)}).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const a=this._middlewares[e]||(this._middlewares[e]=[]);return a.push({stack:e,create:t,level:null==n?10:n,name:r}),a.sort((e,t)=>e.level-t.level),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(e=>n?e.create!==n:!!t&&e.name!==t)),this}open(){return function(e){const t=e._state,{indexedDB:n}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?wt(t.dbOpenError):e);q&&(t.openCanceller._stackHolder=W()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;const r=t.openCanceller;function a(){if(t.openCanceller!==r)throw new ie.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,l=null,s=!1;const o=()=>new Me((r,i)=>{if(a(),!n)throw new ie.MissingAPI;const o=e.name,c=t.autoSchema?n.open(o):n.open(o,Math.round(10*e.verno));if(!c)throw new ie.MissingAPI;c.onerror=un(i),c.onblocked=Ze(e._fireOnBlocked),c.onupgradeneeded=Ze(r=>{if(l=c.transaction,t.autoSchema&&!e._options.allowEmptyDB){c.onerror=cn,l.abort(),c.result.close();const e=n.deleteDatabase(o);e.onsuccess=e.onerror=Ze(()=>{i(new ie.NoSuchDatabase(`Database ${o} doesnt exist`))})}else{l.onerror=un(i);var a=r.oldVersion>Math.pow(2,62)?0:r.oldVersion;s=a<1,e._novip.idbdb=c.result,Pn(e,a/10,l,i)}},i),c.onsuccess=Ze(()=>{l=null;const n=e._novip.idbdb=c.result,a=x(n.objectStoreNames);if(a.length>0)try{const r=n.transaction(1===(i=a).length?i[0]:i,"readonly");t.autoSchema?function({_novip:e},t,n){e.verno=t.version/10;const r=e._dbSchema=An(0,t,n);e._storeNames=x(t.objectStoreNames,0),Cn(e,[e._allTables],u(r),r)}(e,n,r):(Rn(e,e._dbSchema,r),function(e,t){const n=Nn(An(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some(e=>e.add.length||e.change.length))}(e,r)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),_n(e,r)}catch(e){}var i;jt.push(e),n.onversionchange=Ze(n=>{t.vcFired=!0,e.on("versionchange").fire(n)}),n.onclose=Ze(t=>{e.on("close").fire(t)}),s&&function({indexedDB:e,IDBKeyRange:t},n){!Ln(e)&&n!==At&&Dn(e,t).put({name:n}).catch(oe)}(e._deps,o),r()},i)}).catch(e=>e&&"UnknownError"===e.name&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),o()):Me.reject(e));return Me.race([r,("undefined"==typeof navigator?Me.resolve():Mn()).then(o)]).then(()=>(a(),t.onReadyBeingFired=[],Me.resolve(In(()=>e.on.ready.fire(e.vip))).then(function n(){if(t.onReadyBeingFired.length>0){let r=t.onReadyBeingFired.reduce(me,oe);return t.onReadyBeingFired=[],Me.resolve(In(()=>r(e.vip))).then(n)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(n=>{t.dbOpenError=n;try{l&&l.abort()}catch(e){}return r===t.openCanceller&&e._close(),wt(n)}).finally(()=>{t.openComplete=!0,i()})}(this)}_close(){const e=this._state,t=jt.indexOf(this);if(t>=0&&jt.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new Me(t=>{e.dbReadyResolve=t}),e.openCanceller=new Me((t,n)=>{e.cancelOpen=n})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new ie.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new Me((n,r)=>{const a=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Ze(()=>{!function({indexedDB:e,IDBKeyRange:t},n){!Ln(e)&&n!==At&&Dn(e,t).delete(n).catch(oe)}(this._deps,this.name),n()}),e.onerror=un(r),e.onblocked=this._fireOnBlocked};if(e)throw new ie.InvalidArgument("Arguments not allowed in db.delete()");t.isBeingOpened?t.dbReadyPromise.then(a):a()})}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return u(this._allTables).map(e=>this._allTables[e])}transaction(){const e=Kn.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Oe.trans;r&&r.db===this&&-1===e.indexOf("!")||(r=null);const a=-1!==e.indexOf("?");let i,l;e=e.replace("!","").replace("?","");try{if(l=t.map(e=>{var t=e instanceof this.Table?e.name:e;if("string"!=typeof t)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t}),"r"==e||e===Rt)i=Rt;else{if("rw"!=e&&e!=Ot)throw new ie.InvalidArgument("Invalid transaction mode: "+e);i=Ot}if(r){if(r.mode===Rt&&i===Ot){if(!a)throw new ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&l.forEach(e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!a)throw new ie.SubTransaction("Table "+e+" not included in parent transaction.");r=null}}),a&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,(t,n)=>{n(e)}):wt(e)}const s=Bn.bind(null,this,i,l,r,n);return r?r._promise(i,s,"lock"):Oe.trans?pt(Oe.transless,()=>this._whenReady(s)):this._whenReady(s)}table(e){if(!p(this._allTables,e))throw new ie.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const rr="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";class ar{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})}[rr](){return this}}function ir(e,t){return u(t).forEach(n=>{Xn(e[n]||(e[n]=new Yn),t[n])}),e}let lr;try{lr={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(o){lr={indexedDB:null,IDBKeyRange:null}}const sr=nr;function or(e){let t=ur;try{ur=!0,hn.storagemutated.fire(e)}finally{ur=t}}g(sr,{...se,delete:e=>new sr(e,{addons:[]}).delete(),exists:e=>new sr(e,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return Ln(e)?Promise.resolve(e.databases()).then(e=>e.map(e=>e.name).filter(e=>e!==At)):Dn(e,t).toCollection().primaryKeys()}(sr.dependencies).then(e)}catch(e){return wt(new ie.MissingAPI)}},defineClass:()=>function(e){d(this,e)},ignoreTransaction:e=>Oe.trans?pt(Oe.transless,e):e(),vip:In,async:function(e){return function(){try{var t=Fn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Me.resolve(t)}catch(e){return wt(e)}}},spawn:function(e,t,n){try{var r=Fn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:Me.resolve(r)}catch(e){return wt(e)}},currentTransaction:{get:()=>Oe.trans||null},waitFor:function(e,t){const n=Me.resolve("function"==typeof e?sr.ignoreTransaction(e):e).timeout(t||6e4);return Oe.trans?Oe.trans.waitFor(n):n},Promise:Me,debug:{get:()=>q,set:e=>{$(e,"dexie"===e?()=>!0:zt)}},derive:v,extend:d,props:g,override:S,Events:Ft,on:hn,liveQuery:function(e){let t,n=!1;const r=new ar(r=>{const a=Q(e);let i=!1,l={},s={};const o={get closed(){return i},unsubscribe:()=>{i=!0,hn.storagemutated.unsubscribe(h)}};r.start&&r.start(o);let c=!1,d=!1;function f(){return u(s).some(e=>l[e]&&function(e,t){const n=Jn(t);let r=n.next();if(r.done)return!1;let a=r.value;const i=Jn(e);let l=i.next(a.from),s=l.value;for(;!r.done&&!l.done;){if(Wt(s.from,a.to)<=0&&Wt(s.to,a.from)>=0)return!0;Wt(a.from,s.from)<0?a=(r=n.next(s.from)).value:s=(l=i.next(a.from)).value}return!1}(l[e],s[e]))}const h=e=>{ir(l,e),f()&&p()},p=()=>{if(c||i)return;l={};const u={},g=function(t){a&&st();const n=()=>lt(e,{subscr:t,trans:null}),r=Oe.trans?pt(Oe.transless,n):n();return a&&r.then(ot,ot),r}(u);d||(hn(dn,h),d=!0),c=!0,Promise.resolve(g).then(e=>{n=!0,t=e,c=!1,i||(f()?p():(l={},s=u,r.next&&r.next(e)))},e=>{c=!1,n=!1,r.error&&r.error(e),o.unsubscribe()})};return p(),o});return r.hasValue=()=>n,r.getValue=()=>t,r},extendObservabilitySet:ir,getByKeyPath:j,setByKeyPath:P,delByKeyPath:function(e,t){"string"==typeof t?P(e,t,void 0):"length"in t&&[].map.call(t,function(t){P(e,t,void 0)})},shallowClone:N,deepClone:D,getObjectDiff:qn,cmp:Wt,asap:C,minKey:_t,addons:[],connections:jt,errnames:re,dependencies:lr,semVer:xt,version:xt.split(".").map(e=>parseInt(e)).reduce((e,t,n)=>e+t/Math.pow(10,2*n))}),sr.maxKey=vn(sr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(hn(dn,e=>{if(!ur){let t;Pt?(t=document.createEvent("CustomEvent"),t.initCustomEvent(fn,!0,!0,e)):t=new CustomEvent(fn,{detail:e}),ur=!0,dispatchEvent(t),ur=!1}}),addEventListener(fn,({detail:e})=>{ur||or(e)}));let ur=!1;if("undefined"!=typeof BroadcastChannel){const e=new BroadcastChannel(fn);"function"==typeof e.unref&&e.unref(),hn(dn,t=>{ur||e.postMessage(t)}),e.onmessage=e=>{e.data&&or(e.data)}}else if("undefined"!=typeof self&&"undefined"!=typeof navigator){hn(dn,e=>{try{ur||("undefined"!=typeof localStorage&&localStorage.setItem(fn,JSON.stringify({trig:Math.random(),changedParts:e})),"object"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(t=>t.postMessage({type:fn,changedParts:e})))}catch(e){}}),"undefined"!=typeof addEventListener&&addEventListener("storage",e=>{if(e.key===fn){const t=JSON.parse(e.newValue);t&&or(t.changedParts)}});const e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",function({data:e}){e&&e.type===fn&&or(e.changedParts)})}Me.rejectionMapper=function(e,t){if(!e||e instanceof Z||e instanceof TypeError||e instanceof SyntaxError||!e.name||!le[e.name])return e;var n=new le[e.name](t||e.message,e);return"stack"in e&&y(n,"stack",{get:function(){return this.inner.stack}}),n},$(q,zt);const cr=new class extends nr{constructor(){super("LearnSphereDB"),this.version(1).stores({quizResults:"++id, createdAt, sourceUrl, percentage",chatTopics:"++id, topic, lastAskedAt",analytics:"++id, eventType, createdAt"}),this.version(2).stores({quizResults:"++id, createdAt, sourceUrl, percentage, documentTitle",chatTopics:"++id, topic, lastAskedAt, count",analytics:"++id, eventType, createdAt"}).upgrade(async e=>{try{const t=await e.table("quizResults").toArray();for(const n of t)"documentTitle"in n||(n.documentTitle=n.documentTitle||"",await e.table("quizResults").put(n))}catch(e){}}),this.quizResults=this.table("quizResults"),this.chatTopics=this.table("chatTopics"),this.analytics=this.table("analytics")}async saveQuizResult(e){return this.quizResults.add({...e,createdAt:e.createdAt??Date.now()})}async getRecentQuizResults(e=20){return this.quizResults.orderBy("createdAt").reverse().limit(e).toArray()}async getQuizStats(){const e=await this.quizResults.count();if(0===e)return{attempts:0,averageScore:0};const t=await this.quizResults.toArray(),n=t.reduce((e,t)=>e+(t.percentage||0),0),r=t.reduce((e,t)=>Math.max(e,t.createdAt||0),0);return{attempts:e,averageScore:Math.round(n/e*100)/100,lastAttemptAt:r}}async addOrIncrementTopic(e,t){const n=await this.chatTopics.where({topic:e}).first();return n?this.chatTopics.update(n.id,{count:n.count+1,lastAskedAt:Date.now(),...t}):this.chatTopics.add({topic:e,count:1,lastAskedAt:Date.now(),...t})}async getTopTopics(e=10){return(await this.chatTopics.toArray()).sort((e,t)=>t.count-e.count).slice(0,e)}async logEvent(e){return this.analytics.add({...e,createdAt:e.createdAt??Date.now()})}},dr={saveQuizResult:async e=>cr.saveQuizResult(e),async getRecentQuizResults(e=20){try{const t=await cr.getRecentQuizResults(e),n=await chrome.storage.local.get("quizResults"),r=Array.isArray(n?.quizResults)?n.quizResults:[],a=[...t,...r],i=new Map;return a.sort((e,t)=>(t.createdAt||0)-(e.createdAt||0)).forEach(e=>i.set(e.id||e.createdAt,e)),Array.from(i.values()).slice(0,e)}catch{const t=await chrome.storage.local.get("quizResults");return Array.isArray(t?.quizResults)?t.quizResults.slice(0,e):[]}},getQuizStats:async()=>cr.getQuizStats(),addChatTopic:async(e,t)=>cr.addOrIncrementTopic(e,t),getTopChatTopics:async(e=10)=>cr.getTopTopics(e),logEvent:async e=>cr.logEvent(e),logSummaryGenerated:async e=>cr.logEvent({eventType:"summary_generated",createdAt:Date.now(),...e}),logChatAsked:async(e,t)=>(await cr.addOrIncrementTopic(e,t),cr.logEvent({eventType:"chat_asked",createdAt:Date.now(),payload:{topic:e},...t}))},fr=({pct:e})=>{const t=e>=80?"#16a34a":e>=60?"#f59e0b":"#ef4444";return(0,r.jsxs)("span",{style:{background:"#f1f5f9",border:`1px solid ${t}`,color:t,padding:"2px 8px",borderRadius:999,fontSize:12},children:[e,"%"]})},hr=()=>{const[e,t]=(0,a.useState)([]),[n,i]=(0,a.useState)(!1),[l,s]=(0,a.useState)(""),o=async()=>{i(!0),s("");try{const e=await dr.getRecentQuizResults(50);t(e)}catch(e){s("Failed to load results")}finally{i(!1)}};return(0,a.useEffect)(()=>{o()},[]),n?(0,r.jsx)("div",{children:"Loading results"}):l?(0,r.jsx)("div",{style:{color:"#ef4444"},children:l}):(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{children:"Quiz Results"}),0===e.length&&(0,r.jsx)("p",{children:"No results yet. Take a quiz to see your history here."}),(0,r.jsx)("div",{style:{display:"grid",gap:12},children:e.map(e=>{return(0,r.jsxs)("details",{style:{border:"1px solid #e5e7eb",borderRadius:8,padding:12,background:"#fff"},children:[(0,r.jsxs)("summary",{style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:e.documentTitle||"Untitled"}),(0,r.jsx)("div",{style:{fontSize:12,color:"#64748b"},children:(t=e.createdAt,new Date(t).toLocaleString())})]}),(0,r.jsx)(fr,{pct:e.percentage})]}),(0,r.jsxs)("div",{style:{marginTop:10},children:[(0,r.jsxs)("div",{style:{marginBottom:8},children:[(0,r.jsx)("a",{href:e.sourceUrl,target:"_blank",rel:"noreferrer",children:"Open source page"}),(0,r.jsxs)("div",{style:{fontSize:12,color:"#64748b"},children:["Score: ",e.correctCount,"/",e.totalQuestions]})]}),(0,r.jsx)("ol",{style:{marginLeft:18},children:e.details.map((e,t)=>(0,r.jsxs)("li",{style:{marginBottom:10},children:[(0,r.jsx)("div",{style:{fontWeight:600},children:e.question}),(0,r.jsx)("ul",{style:{marginLeft:16},children:e.options.map((t,n)=>(0,r.jsxs)("li",{style:{color:n===e.correctIndex?"#16a34a":n!==e.selectedIndex||e.isCorrect?void 0:"#ef4444"},children:[n===e.selectedIndex?" ":"- ",t,n===e.correctIndex?" (correct)":""]},n))}),(0,r.jsx)("div",{style:{fontSize:12,color:e.isCorrect?"#16a34a":"#ef4444"},children:e.isCorrect?"You answered correctly.":"Your answer was incorrect."}),e.explanation&&(0,r.jsxs)("div",{style:{fontSize:12,background:"#f8fafc",border:"1px solid #e5e7eb",padding:8,borderRadius:6,marginTop:6},children:[(0,r.jsx)("strong",{children:"Explanation:"})," ",e.explanation]})]},t))})]})]},e.id);var t})}),(0,r.jsx)("div",{style:{marginTop:12},children:(0,r.jsx)("button",{onClick:o,children:"Refresh"})})]})},pr=new Set(["the","a","an","and","or","for","to","of","in","on","at","by","with","from","as","is","are","be","was","were","this","that","these","those","which","what","how","why","when","where","who","whom","into","about","it","its","their","there","than","then","over","under","can","could","should","would","may","might","using","use","used","based","such","per","each","more","most","least","many","much"]);class gr{static async analyze(){const e=await dr.getRecentQuizResults(100),t=new Map,n=new Map;let r=0,a=0,i=0;e.forEach(e=>{r+=1,a+=e.percentage||0,i=Math.max(i,e.createdAt||0);const l=(s=e.sourceUrl,o=e.documentTitle,t.has(s)||t.set(s,{sourceUrl:s,documentTitle:o,attempts:0,averageScore:0,lastAttemptAt:0,recentMissed:[]}),t.get(s));var s,o;l.attempts+=1,l.averageScore=(l.averageScore*(l.attempts-1)+(e.percentage||0))/l.attempts,l.lastAttemptAt=Math.max(l.lastAttemptAt||0,e.createdAt||0),Array.isArray(e.details)&&e.details.forEach(e=>{var t;e.isCorrect||(l.recentMissed.length<3&&l.recentMissed.push({question:e.question,explanation:e.explanation}),(t=e.question,t.toLowerCase().replace(/[^a-z0-9\s]/g," ").split(/\s+/).filter(e=>e.length>2&&!pr.has(e))).forEach(e=>{n.set(e,(n.get(e)||0)+1)}))})});const l=Array.from(t.values()).sort((e,t)=>e.averageScore-t.averageScore||(t.attempts||0)-(e.attempts||0)),s=Array.from(n.entries()).map(([e,t])=>({term:e,count:t})).sort((e,t)=>t.count-e.count).slice(0,20);return{pages:l,weakKeywords:s,summary:{totalAttempts:r,overallAverage:r?Math.round(a/r*100)/100:0,lastAttemptAt:i}}}}const mr=()=>{const[e,t]=(0,a.useState)(null),[n,i]=(0,a.useState)(!1),[l,s]=(0,a.useState)(""),o=async()=>{i(!0),s("");try{const e=await gr.analyze();t(e)}catch(e){s("Failed to analyze knowledge")}finally{i(!1)}};return(0,a.useEffect)(()=>{o()},[]),n?(0,r.jsx)("div",{children:"Analyzing"}):l?(0,r.jsx)("div",{style:{color:"#ef4444"},children:l}):e?(0,r.jsxs)("div",{className:"settings-tab",children:[(0,r.jsx)("h3",{children:"Knowledge Gap Analysis"}),(0,r.jsxs)("div",{style:{marginBottom:8,color:"#64748b"},children:["Attempts: ",e.summary.totalAttempts,"  Avg Score: ",e.summary.overallAverage,"%"]}),(0,r.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{children:"Weak Pages (lowest average first)"}),0===e.pages.length&&(0,r.jsx)("p",{children:"No quiz data yet."}),(0,r.jsx)("ul",{children:e.pages.slice(0,10).map(e=>(0,r.jsxs)("li",{style:{marginBottom:10},children:[(0,r.jsx)("a",{href:e.sourceUrl,target:"_blank",rel:"noreferrer",children:e.documentTitle||e.sourceUrl}),(0,r.jsxs)("div",{style:{fontSize:12,color:"#64748b"},children:["Attempts: ",e.attempts,"  Avg: ",Math.round(100*e.averageScore)/100,"%"]}),e.recentMissed.length>0&&(0,r.jsxs)("details",{style:{marginTop:4},children:[(0,r.jsx)("summary",{children:"Recent missed questions"}),(0,r.jsx)("ul",{children:e.recentMissed.map((e,t)=>(0,r.jsxs)("li",{children:[e.question,e.explanation&&(0,r.jsxs)("div",{style:{fontSize:12,color:"#475569"},children:["Explanation: ",e.explanation]})]},t))})]})]},e.sourceUrl))})]}),(0,r.jsxs)("section",{children:[(0,r.jsx)("h4",{children:"Frequent Weak Terms"}),0===e.weakKeywords.length&&(0,r.jsx)("p",{children:"No weak terms yet."}),(0,r.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:e.weakKeywords.map(e=>(0,r.jsxs)("span",{style:{background:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:999,padding:"4px 8px",fontSize:12},children:[e.term,"  ",e.count]},e.term))})]})]}),(0,r.jsx)("div",{style:{marginTop:12},children:(0,r.jsx)("button",{onClick:o,children:"Re-analyze"})})]}):null};i.createRoot(document.getElementById("root")).render((0,r.jsx)(a.StrictMode,{children:(0,r.jsx)(()=>(0,r.jsxs)("div",{className:"options-container",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[(0,r.jsx)("div",{children:(0,r.jsx)(s,{})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(hr,{}),(0,r.jsx)("div",{style:{marginTop:16},children:(0,r.jsx)(mr,{})})]})]}),{})}))})();